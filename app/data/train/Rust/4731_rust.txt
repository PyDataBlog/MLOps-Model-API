use std::io::{self, Read};
mod smtp_parser;

fn main() {

    println!("Hello, type some SMTP and press ctrl+d");

    let mut buffer = String::new();

	io::stdin()
            .read_to_string(&mut buffer)
            .expect("Could not read input");
        
        match smtp_parser::session(&buffer) {
            Ok(r) => println!("Parsed as: {:?}", r),
            Err(e) => println!("Parse error: {}", e),
        }        

}
