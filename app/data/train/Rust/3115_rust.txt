extern crate env_logger;
extern crate must;
use must::*;

use std::env;

#[test]
fn ok() {
	let _ = env_logger::init();

	eq("", "").unwrap();
}


#[test]
#[should_panic(expected = "Diff:
 foo
-bar
 baz
+bar
 quux")]
fn str_fail() {
	let _ = env_logger::init();
	env::set_var(COLOR_ENV, "none");


	let err = eq("foo
bar
baz
quux",
	             "foo
baz
bar
quux")
		.unwrap_err();

	env::remove_var(COLOR_ENV);

	panic!("{}", err);
}