import * as angular from 'angular';
import {IRequestServiceProvider} from '../../common/utils/request-utils.provider';
import RecoveryPasswordComponent from './recovery-password.component';
import Core from '../../core';
import Utils from '../../common/utils';

export default angular
    .module('app.recovery-password', [
        Core,
        Utils
    ])
    .component('recoveryPassword', RecoveryPasswordComponent)
    .config(['$stateProvider', '$translatePartialLoaderProvider', 'RequestServiceProvider',
        ($stateProvider: ng.ui.IStateProvider,
            $translatePartialLoaderProvider: ng.translate.ITranslatePartialLoaderService,
            RequestServiceProvider: IRequestServiceProvider) => {

            $stateProvider
                .state('access.recovery_password', {
                    url: '/recovery-password?userId?code',
                    component: 'recoveryPassword'
                });

            $translatePartialLoaderProvider.addPart('components/recovery-password');

            RequestServiceProvider.register('recovery', {
                url: 'account/resetpassword'
            });
        }])
    .name;
