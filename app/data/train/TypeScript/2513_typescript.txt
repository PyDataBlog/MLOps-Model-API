import * as React from 'react';

import {
  Card,
  CardHeader,
  CardText,
} from 'material-ui/Card';

import {
  IWorkflowStepProps,
  WorkflowActionTargets,
} from './workflow';

import ActionButtonContainer from './ActionButtonContainer';

export default class ScanTargetStep extends React.Component<IWorkflowStepProps, {}> {
  public static defaultProps: Partial<IWorkflowStepProps> = {
    workflowStep: {
      title: 'Default Title',
      actions: [
        {
          title: 'Action 1',
          command: 'some_command',
          trigger: WorkflowActionTargets.Button,
        },
      ],
    },
  };

  public static containerStyle: React.CSSProperties = {
    display: 'flex',
    flexDirection: 'column',
    flexGrow: 1,
  };

  public static rootStyle: React.CSSProperties = {
    display: 'flex',
    flexDirection: 'column',
    flexGrow: 1,
  };

  public render() {
    return (
      <Card
        containerStyle={ScanTargetStep.containerStyle}
        expandable={false}
        style={ScanTargetStep.rootStyle}
      >
        <CardHeader
          title={this.props.workflowStep.title}
        />

        <CardText
          style={{ flexGrow: 1 }}
        >
          This space intentionally left blank
        </CardText>

        <ActionButtonContainer
          actions={this.props.workflowStep.actions}
          onActionDispatched={this.onActionDispatched}
        />
      </Card>
    );
  }

  private onActionDispatched = (command: string, options?: any) => {
    this.props.onActionDispatched(command, options);
  }
}
