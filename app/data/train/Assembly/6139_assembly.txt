  extern printf

  [section .text]
  global main:

main:
  push ebp
  mov  ebp, esp

  push 100
  call sum
  add esp, 4

  push eax
  push LC0
  call printf

  leave
  ret

sum:
  push  ebp
  mov ebp, esp

  sub esp, 4

  cmp dword [ebp + 8], 1

  jnz .next
  mov eax, 1
  jmp .done

  .next:
  mov ebx, [ebp + 8]
  mov [ebp - 4], ebx

  dec ebx
  push ebx
  call fact
  add esp, 4

  push ebx
  mov  ebx, eax

  
  add eax, [ebp - 4]            
  pop ebx

  .done:
  leave
  ret

  section .rodata
LC0:   db "R: %d", 0ah, 0dh, 0
