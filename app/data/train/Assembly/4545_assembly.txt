.MODEL small
.STACK 100h
.DATA
	a_count db 0		;ñ÷¸ò÷èê âûâîäèìûõ áàéòîâ
	nln db '', 10,13,'$' 	;ïåðåâîä ñòðîêè
.CODE
start:
	mov ax, @data
	mov ds, ax
	mov si,0 		
	mov cx, offset exit		
	sub cx, offset start	;îïðåäåëÿåì ðàçìåð ïàìÿòè

lab1:
	mov dl, cs:[si]

	mov bl, dl    
	shr dl, 04		;îñóùåñòâëÿåì ñäâèã íà 4 ðàçðÿäà âïðàâî
	add dl, 30h
	cmp dl, 39h		;ñðàâíèâàåì ñ 9
	jle m1
	add dl, 7h
	
m1:	mov ah, 02h		;âûâîäèì ñòàðøóþ öèôðó
	int 21h
	
	mov dl, bl
	and dl, 0Fh		;îáíóëÿåì ñòàðøóþ öèôðó
	add dl, 30h
	cmp dl, 39h
	jle m2
	add dl, 7h

m2:	mov ah, 02h		;âûâîäèì ìëàäøóþ öèôðó
	int 21h

	inc si
	mov dl, 20h		;âûâîäèì ïðîáåë	
	mov al, 02h
	int 21h
	
	inc a_count		;óâåëè÷èâàåì ñ÷¸ò÷èê áàéòîâ
	cmp a_count, 16		;ñðàâíèâàåì ñ 16
	jne m3			;åñëè íå ðàâíî, òî ïåðåõîäèì íà m2
	mov a_count, 0h		;èíà÷å îáíóëÿåì ñ÷¸ò÷èê
	lea dx, nln		;è ïåðåâîäèì íà íîâóþ ñòðîêó
	mov ah, 09h
	int 21h
m3: loop lab1
	
	mov  AH,00     		;Ôóíêöèÿ ââîäà
   	int  16H       		;îæèäàíèå êëàâèøè
	cmp al, 0dh		;ïðîâåðÿåì, íàæàòà êëàâèøà Enter?
	je exit			;åñëè äà, òî âûõîäèì

exit:
	mov ah, 05h		;ïðè âûõîäå âîçðàùàåìñÿ íà íóëåâóþ ñòðàíèöó
	mov al, 00
	int 10h
	mov ax, 4c00h
	int 21h
END start
