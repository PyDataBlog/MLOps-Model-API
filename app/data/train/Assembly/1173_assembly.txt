#×ª·¢²âÊÔÎÄ¼þ
#×÷ÕßÄÜÁ¦²»×ãÖ®´¦£¬¶à¶àÖ¸½Ì
#ÏîËþÀ¼×÷£¬ÈçÓÐÎÊÌâ£¬ÇëÖÂÐÅqianlxc@126.com
lui $a0,0xffff
ori $a1,$0,0x0004
ori $a2,$0,0x3014
ori $s0,$0,0xaabb
lui $s1,0xccdd
ori $s2,156
jal fR_Jr_Rs
nop
jal fR_B_Rs
beqreturn1:nop
jal fR_R_Rs
nop
jal fR_I_Rs
nop
jal fR_L_Rs
nop
jal fR_MD_Rs #MD=mult div
nop
jal fR_MT_Rs
nop
jal fR_S_Rt
nop
jal fR_R_Rt
nop
jal fR_MD_Rt
nop
jal fI_B_Rs
beqreturn2:nop
jal fI_R_Rs
nop
jal fI_I_Rs
nop
jal fI_L_Rs
nop
jal fI_MD_Rs #MD=mult div
nop
jal fI_MT_Rs
nop
jal fI_S_Rt
nop
jal fI_R_Rt
nop
jal fI_MD_Rt
nop
jal fMF_B_Rs
beqreturn3:nop
jal fMF_R_Rs
nop
jal fMF_I_Rs
nop
jal fMF_L_Rs
nop
jal fMF_MD_Rs #MD=mult div
nop
jal fMF_MT_Rs
nop
jal fMF_S_Rt
nop
jal fMF_R_Rt
nop
jal fMF_MD_Rt
nop
jal fL_B_Rs
beqreturn4:nop
jal fL_R_Rs
nop
jal fL_I_Rs
nop
jal fL_L_Rs
nop
jal fL_MD_Rs #MD=mult div
nop
jal fL_MT_Rs
nop
jal fL_S_Rt
nop
jal fL_R_Rt
nop
jal fL_MD_Rt
nop
jal fMD_Stop
nop
jalr $t7
nop

fR_Jr_Rs: addu $a2,$a1,$a2
             addi $k0,$k0,1#ÓÃÓÚ¼ì²âadduÓëjrÊÇ·ñ´æÔÚ¶þ¼¶×ª·¢£¬ÈôÎÞ£¬$k0½«±äÎª2£¬Èç¹ûÓÐ£¬$k0Îª1
             jr $a2
             nop
fR_B_Rs: addu $t1,$a1,$0
             nop
             beq $a1,$t1,beqreturn1#ÓÃÓÚ¼ì²âR-RÓëbeqÊÇ·ñ´æÔÚ¶þ¼¶×ª·¢£¬ÈôÎÞ£¬ÔòÌø×ªÊ§°Ü£¬$k1½«±äÎª1
             nop
             addi $k1,$k1,1#k1´ú±íR-RÓëbeqµÄÒÀÀµ
             jr $ra
             nop
fR_R_Rs: addu $t1,$a0,$0
             addu $t2,$t1,$a1 #1¼¶×ª·¢
             sw $t2,0($0)
             addu $t3,$t2,$a1 #2¼¶×ª·¢
             nop
             sw $t3,4($0)
             addu $t4,$t3,$a1 #3¼¶×ª·¢
             sw $t4,8($0) #   ÈôDM²»ÊÇµÝ4Ôö¼Ó£¬Ôò×ª·¢³ö´íÎó
             jr $ra
             nop
fR_I_Rs:  addu $t1,$s1,$0 #t1Îªccdd0000
             ori $t2,$t1,0xccdd #1¼¶×ª·¢
             sw $t2,12($0)
             slti  $t3,$t2,30 #2¼¶×ª·¢
             xori $t4,$t2,20 #3¼¶×ª·¢
             sw $t3,16($0)  
             sw $t4,20($0)
             jr $ra
             nop
fR_L_Rs: sub $t1,$a1,$0 #t1Îª4
            lw $t2,8($t1)#1¼¶×ª·¢
            lbu $t3,9($t1)#2¼¶×ª·¢
            sw $t2,24($0)
            sw $t3,28($0)
            jr $ra
            nop
fR_MD_Rs: or  $t1,$s1,$0 #t1=0xccdd0000
                mult $t1,$a1  #²âÊÔ³Ë·¨ÊÇ·ñÕýÈ·
                mfhi $t2
                mflo $t3
                sw $t2,32($0)
                sw $t3,36($0)
                jr $ra
                nop
fR_MT_Rs: slt  $t1,$s1,$0 #Ë³±ã²âÊÔsltÊÇ·ñÕýÈ· ÕýÈ·t1Îª1
                mthi $t1 #hiÎª1
                mfhi $t2 #t2Îª1
                sw $t2,40($0) #´æÈë£Ä£Í
                jr $ra
                nop
fR_S_Rt:     xor $t2,$s0,$a2
                sw $t2,40($a1) #ÕâÀïÖ»ÐèÒª×ª·¢²»ÐèÒªÔÝÍ£
                jr $ra
                nop
fR_R_Rt:    sllv  $t1,$s1,$a1 #Ë³±ã²âÊÔsllv
               xor $t2,$a1,$t1  
               sw $t2,48($0)
               srav $t3,$s1,$t2 #²âÊÔsrav
               sw $t3,52($0)
               nop
               nor $t4,$a2,$t3
               sw $t4,56($0)
               jr $ra
               nop
fR_MD_Rt: sra $t1,$s1,3 #²âsra
                div $s1,$t1
                mfhi $t2 #hiÎª½á¹û
                mflo $t3 #loÎª½á¹û
                sw $t2,60($0)
                sw $t3,64($0)
                jr $ra
                nop

#   I-and others
fI_B_Rs:  slti $t1,$s1,0x0011
             nop
             beq $s1,$t1,beqreturn1#ÓÃÓÚ¼ì²âR-RÓëbeqÊÇ·ñ´æÔÚ¶þ¼¶×ª·¢£¬ÈôÎÞ£¬ÔòÌø×ªÊ§°Ü£¬$k1½«±äÎª1
             nop
             addi $k1,$k1,1#k1´ú±íIÓëbeqµÄÒÀÀµ
             jr $ra
             nop
fI_R_Rs:  andi $0,$a2,100  #¿ÓÔÚ0´¦ ´ó¼Ò²»Òª¹ÖÎÒ
             nor $t2,$0,$a2  
             sw $t2,68($0)
             sub $t3,$0,$s1 #¿´¿´ÄÜ²»ÄÜÊ¶±ð¸ºÊý
             sw $t3,72($0)
             nop
             addu $t4,$t3,$0
             sw $t4,76($0)
             jr $ra
             nop
fI_I_Rs:   addiu $t1,$s0,200
             addiu $t2,$t1,10  #1¼¶×ª·¢
             sw $t2,80($0)
             addiu $t3,$t2,30  #2¼¶×ª·¢
             sw $t3,84($0)
             nop             
             sltiu $t4,$a1,20  #3¼¶×ª·¢
             sw $t4,88($0)
             jr $ra
             nop
fI_L_Rs: addiu $t1,$0,84
            lhu $t2,-6($t1)  #¿ÓÒ»ÏÂ¿´ÓÐÃ»ÓÐÈÏÕæ¿´Ö¸Áî¼¯£¬lhuµÄµØÖ·Ò²ÊÇ·ûºÅÀ©Õ¹
            lbu $t3,1($t1)
            sw $t2,92($0)
            sw $t3,96($0)
            jr $ra
            nop
fI_MD_Rs: addiu $t1,$0,0xffff
                multu $t1,$s1 #¿´¿´multu¶Ô²»¶Ô
                mfhi $t2
                mflo $t3
                sw $t2,100($0)
                sw $t3,104($0)
                jr $ra
                nop
fI_MT_Rs:  addiu $t1,$0,400 
                mthi $t1   
                mfhi $t2
                sb $t2,105($0) #¿´¿´ÄãµÄsbÊÇ·ñ¼ÓÈë0À©Õ¹ÁË£¿£¨²»Ó¦¸Ã¼Ó£©
                sh $t2,106($0)
                jr $ra
                nop
fI_S_Rt:      ori $t1,$0,112 #ÓÖÊÇÕâ¸öÎÊÌâ ßõßõ
                sh $s0,2($t1) #¿´¿´ÄãÊÇ²»ÊÇÓÖ³öÎÊÌâÀ²£¿sh´æÈë112µÄÓ¦¸ÃÊÇÊ²Ã´£¿
                jr $ra
                nop
fI_R_Rt:     xori  $t1,$0,100 #ßõßõßõßõ Õâ¸öÖ¸Áî¿´ÆðÀ´²»´í
               addu $t2,$0,$t1#1¼¶×ª·¢
               sw $t2,116($0)
               addu $t3,$a2,$t2 #2¼¶×ª·¢
               sw $t3,120($0)
               nop
               addu $t4,$t0,$t3
               sw $t4,124($0)
               jr $ra
               nop
fI_MD_Rt:  lui $t1,0xffff
                divu $a1,$s1  #¿´¿´ÄãµÄ³ý·¨Ö¸ÁîÑÓ³ÙµÄÖÜÆÚÕýÈ·Âð£¿
                mfhi $t2
                mflo $t3
                sw $t2,128($0) #t2¿ÉÊÇÒ»¸öÕýÊý£¨³ý·ÇÄã³ý·¨×ö´íÁË£©
                sw $t3,132($0)
                jr $ra
                nop
#MF and others
fMF_B_Rs:
             mthi $s1 
             mfhi $t2
             nop
             blez $t2,beqreturn3  #Ó¦¸ÃÊÊµ±¼ÓÈëÒ»Ð©ÐÂµÄÖ¸Áî²ÅÓÐÒâË¼Âï£¬ÒòÎªÉÏÒ»´Ît2ÊÇ¸öÕýÊý£¬Õâ´Î±ä³É¸ºÊýÁË£¬ËùÒÔÈç¹ûÄãÃ»×ª·¢£¬¾ÍÓ¦¸Ã²»Ìø×ª£¬µ¼ÖÂk1ÓÖ´í¿©
             nop
             addi $k1,$k1,1
             jr $ra
             nop
fMF_R_Rs: 
             mthi $s1
             mfhi $t2
             sub $t3,$t2,$a1 #Ò»¼¶×ª·¢
             or $t4,$t2,$a2   #¶þ¼¶×ª·¢
             sw $t3,136($0)
             sw $t4,140($0) #¿´ÆðÀ´
             jr $ra
             nop
fMF_I_Rs:  
             mthi $a0
             mfhi $t1
             addiu $t1,$t1,10#ÊÔÊÔ1¼¶×ª·¢ºÍ2¼¶×ª·¢Í¬Ê±´æÔÚÄãÒªÔõÃ´°ì£¿
             addiu $t2,$t1,20
             xori $t3,$t1,30
             sw $t1,144($0)
             sw $t2,148($0)
             sw $t3,152($0)
             jr $ra
             nop
fMF_L_Rs: 
            mthi $s2 #s2=156
            mfhi $t1
            lb $t8,1($t1)  #×¢Òâ¼ì²é t8 ºÍt9
            lh $t9,6($t1)
            jr $ra
            nop
fMF_MD_Rs: 
                mthi $a2
                mfhi $t1
                mult $t1,$a1  #ÄãµÄ³Ë·¨ÊÇ·ñ×ö¶ÔÁË£¿ #¿´¿´ÕâÀïÒª×ª·¢Âð£¿
                div $t1,$a1    #ÔÙÀ´Ìõ³ý·¨¿ÉºÃ£¿       #2¼¶×ª·¢¼ÓÔÝÍ£Å¶£¬Õâ¿ÉÊÇ2¼¶×ª·¢ºÍÔÝÍ£Å¶Ç×
                mfhi $t2
                mflo $t3
                sw $t2,156($0)  
                sw $t3,160($0)
                jr $ra
                nop
fMF_MT_Rs: 
                mthi $s1
                mfhi $t2
                mtlo $t2  
                mflo $t3         #ºÃÏñÃ»Ê²Ã´Ì«´óµÄÓ°ÏìÅ¶= =
                sw $t3,164($0)
                jr $ra
                nop
fMF_S_Rt:  mthi $s2    #s2=156
                mfhi $t1 
                sw $t3,12($t1)  #¿´¿´´æÁË¸öÉ¶£¿
                jr $ra
                nop
fMF_R_Rt:                 
             mthi $a1
             mfhi $t2
             addu $t3,$0,$t2
             addu $t4,$0,$t2
             sw $t2,172($0)
             sw $t3,176($0)
             sw $t4,180($0)
             jr $ra
             nop
fMF_MD_Rt:  
                mthi $a2
                mfhi $t1
                mult $a1,$t1
                mfhi $t2
                mflo $t3
                sw $t2,184($0)
                sw $t3,188($0)
                jr $ra
                nop
#Load and others
fL_B_Rs:
             lbu $t1,-22($s2) #´ÓºÃÔ¶µÄµØ·½È¡ÁË¸öÖµÀ´¸ÉÉ¶£¿
             nop
             bgtz $t1,beqreturn4 #ÕâÀïºÃÏñÉè¼ÆµÄ²»ºÏÀíÄØ¡£¡£¡£ÎÒµÄt1²»ÖªÊÇ²»ÊÇ¸ö¸ºÊý
             nop 
             addi $k1,$k1,1
             jr $ra
             nop
fL_R_Rs:  lhu $t1,186($0) #ÎÒÏëÏë Æð¸öÊ²Ã´Ãû×ÖºÃÄØ
             addu $t2,$t1,$s2 #1¼¶×ª·¢ £¨ÕâÀï¿ÉÊÇÒªÔÝÍ£µÄ£¬²»ÖªµÀÄã×öÁËÃ»ÓÐ£©
             addu $t3,$t1,$a2 #2¼¶×ª·¢
             sb $t1,192($0) #°¥£¬ÓÖÊÇÃ»¼¼Êõº¬Á¿µÄÕâÑù´æÊý
             sh $t2,196($0)
             sw $t3,200($0)
             nop
             jr $ra
             nop
fL_I_Rs:   lhu $t1,198($0) #ÍÛÅ¶¿´ÆðÀ´²»´í£¬²»ÖªµÀ¸Õ¸ÕµÄt1ÊÇ¸öÉ¶¡£¡£
             addiu $t2,$t1,20 #1¼¶×ª·¢
             sllv $t3,$t1,$a1 #2¼¶×ª·¢
             sw $t2,204($0) #
             sw $t3,208($0)
             jr $ra
             nop
fL_L_Rs: ori $t1,$s0,4
            sw $t1,208($0)
            lw $t1,208($0)
            lb $s5,43($s2) #ÉÏÃæÄÇÐ©ÎÞÁÄµÄ»°¶¼ÊÇÂÒËµµÄ£¬²»Òª½éÒâ
            lhu $s6,-22($s2)
            jr $ra
            nop
fL_MD_Rs: lw $t1,208($0) #ÓÖÊÇ´Ó208È¡Êý¾Ý¡£¡£¡£
                mult $t1,$0 #¿´¿´ÄãµÄ³Ë·¨¹ÜÓÃ²»£¬ÕâÊÇ¸ö0³ËÅ¶
                mfhi $t2
                mflo $t3
                sw $t2,220($0) #ÕâÁ©ÖµÓ¦¸ÃÊÇ0°É
                sw $t3,224($0)
                jr $ra
                nop
fL_MT_Rs:  lb $t1,112($0) #ÊÔÊÔ·ûºÅÀ©Õ¹µÄ
                mthi $t1
                mfhi $t2
                sw $t2,228($0) #ÔõÃ´Ñù×ö¶ÔÁËÂð£¿
                jr $ra
                nop
fL_S_Rt: 
               ori $t1,$s0,180
               sw $t1,244($0) 
               lw $t2,244($0)
               sb $a2,116($s2) #156+116=252
                jr $ra
                nop
fL_R_Rt:    lw $t1,228($0)
             addu $t2,$0,$t1
             addu $t3,$0,$t1
             sw $t1,232($0)
             sw $t2,236($0)
             sw $t3,240($0)
             nop
             jr $ra
             nop
fL_MD_Rt:  lw $t1,208($0)
                mult $a1,$t1
                mfhi $t2
                mflo $t3
                sw $t2,244($0)
                sw $t3,248($0)
                jr $ra
                nop
#Mult Stop!!
fMD_Stop: mult $a1,$a2
                mfhi $s1
                mflo $s2
                div $a1,$a2
                mfhi $s3
                mflo $s4
                sw $s1,252($0)
                sw $s2,256($0)
                sw $s3,260($0)
                sw $s4,264($0)
                mthi $t2
                mtlo $t3
                jr $ra
                ori $t7,$0,0x3148 #ÒâÊ¶µ½Õâ¸öÖ¸ÁîµÄ²âÊÔµãÁËÂð£¿ºóÃæ¿ÉÊÇjalr- - ËùÒÔ»á½øÈëÒ»¸öËÀÑ­»·£¬¿´¿´ÄãËÀÑ­»·µÄµØÖ·ÊÇ²»ÊÇ3148ºÍ314c°É

































