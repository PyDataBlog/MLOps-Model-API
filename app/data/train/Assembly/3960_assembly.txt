;;; 1¡¢±àÒë£ºazprasm led.asm -o led.bin --coe led.coe
;;; 2¡¢ÊÖ¹¤½«Xilinx FPGAµÄcoeÎÄ¼þ×ª»»ÎªAltera FPGAµÄmif¸ñÊ½×÷ÎªROM³õÊ¼»¯Êý¾ÝÎÄ¼þ sprom16.mif
;;; 3¡¢¿ª·¢°å×ÛºÏÊ±£¬½«sprom16.mif×÷ÎªROMµÄ³õÊ¼»¯Êý¾ÝÎÄ¼þ

;;; ·ûºÅ¶¨Òå(±¾Ô´´úÂëÎÄ¼þÒÔANSI±àÂë)
GPIO_BASE_ADDR_H	EQU	0x8000		;GPIO Base Address High
GPIO_OUT_OFFSET		EQU	0x4			;GPIO Output Port Register Offset

;;; µãÁÁLED
	XORR	r0,r0,r0
	ORI		r0,r1,GPIO_BASE_ADDR_H	;½«GPIO Base Address´æÈër1
	SHLLI	r1,r1,16				;×óÒÆ16Î»,¼´GPIO Base Address¸ß16Î»´æÈër1
	ORI		r0,r2,0x2				;Êä³öÊý¾Ýr2¸³Öµ
	SHLLI	r2,r2,16				;×óÒÆ16Î»£¬¼´Êä³öÊý¾Ýr2µÄ¸ß16Î»
	ORI		r2,r2,0x00aa			;Êä³öÊý¾Ýr2µÄµÍ16Î»¸³Öµ
	STW		r1,r2,GPIO_OUT_OFFSET	;Êä³öÊý¾Ýr2Ð´ÈëGPIO Output Port

;;; ÎÞÏÞÑ­»·
LOOP:
	BE		r0,r0,LOOP				;ÍË»Øµ½LOOP
	ANDR	r0,r0,r0				;NOP¿Õ²Ù×÷
