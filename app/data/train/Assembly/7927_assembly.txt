;wyświetlanie (txt1*3, potem txt2*1)*3
DATA1	segment
txt1	db	"	0000", 10, 13, '$'	;deklaracja danych
txt2	db	"1111", 10, 13, '$'	;deklaracja danych
DATA1  ends


CODE1	segment
ASSUME	cs:CODE1, ds:DATA1, ss:STOS1

START:

;inicjalizacja stosu 1
mov   ax,seg STOS1
mov   ss,ax
mov   sp,offset top

mov		cx,3						;licznik pętli
petla:	push	cx
		mov		cx,3
		
		petla2:	push	cx
				call	napis0				;wywołanie podprogramu
				pop		cx
		loop	petla2
		pop		cx
		call	napis1
loop	petla				;zmniejsza CX i jeśli CX <> 0 skacze do "petla"

		mov		ax,4c00h
		int		21h							; Przerwanie DOS - koniec programu

;podprogram napis
napis0:	mov		ax,seg txt1
		mov		ds,ax
		mov		dx,offset txt1
		mov		ah,9
		int		21h
ret
	
napis1:	mov		ax,seg txt2
		mov		ds,ax
		mov		dx,offset txt2
		mov		ah,9
		int		21h	
ret

CODE1 ends

STOS1	segment STACK
		dw	256	dup(?)
top		dw	?
STOS1  ends

END START