; Test 6502 ASM
; David Jolly 2014-2015

.def START 100
.def ITER 10
.def FINAL 0

; comment this line to enable decrement
.def INCRE 1

.org 0x600

	ldx #START
	ldy #ITER

.ifdef INCRE

	jsr increment
	stp

; Increment X-index and place in accum
; @param x-index origional value
; @param y-index iteration value
; @return accum holds final value
increment:
	cpy #FINAL
	beq increment_done
	inx
	dey
	jmp increment
increment_done:
	txa
	rts

.else

	jsr decrement
	stp

; Decrement X-index and place in accum
; @param x-index origional value
; @param y-index iteration value
; @return accum holds final value
decrement:
	cpy #FINAL
	beq decrement_done
	dex
	dey
	jmp decrement
decrement_done:
	txa
	rts

.endif ; INCRE
