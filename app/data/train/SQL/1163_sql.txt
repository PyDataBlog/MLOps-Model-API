CREATE SEQUENCE pricetracker_item_id_seq;

CREATE TABLE item
(
    item_id integer NOT NULL,
    name text NOT NULL,
    description text,
    url text NOT NULL,
    seller_ref_id text,
    CONSTRAINT pricetracker_item_pkey PRIMARY KEY (item_id)
);

ALTER SEQUENCE pricetracker_item_id_seq OWNED BY item.item_id;
ALTER TABLE item ALTER item_id SET DEFAULT NEXTVAL('pricetracker_item_id_seq');

-- create associative entity
CREATE TABLE user_item_mapping
(
    user_id integer REFERENCES users (user_id),
    item_id integer REFERENCES item (item_id),
    created timestamp with time zone not null default now(),
    last_updated timestamp with time zone not null default now(),
    deleted_ind boolean,
    CONSTRAINT user_item_mapping_pkey PRIMARY KEY (user_id, item_id)
);