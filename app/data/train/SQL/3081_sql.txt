/* script for generating invoice table, need to revisit indexing if need be*/
/* merchant_identifier is the foreign key from the merchant table */
/* invoice_number obvious */
/* total_amount including all taxes shipping cost etc */
/* net_amount basic amount of the invoice which is quantity multiplied by cost */
/* vat_amount this is the total VAT amount associated with this invoice */
/* other_taxes service tax and luxury tax etc */
/* shipping_amount obvious */
/* currency_code obvious */
/* is_estimate indicator its an estimate and not a final invoice */
/* terms  - Good once sold are not returnable, All disputes are subject to Delhi jurisdiction etc.*/
/* notes allows merchant to call out things such as exemption from VAT etc */
/* memo */
/* receipt_details such as paid, COD etc */
/* allow_partial_payments not sure how we will use it in the short term but needed for long term */
/* vat_indentification_number obvious */
/* cst_indentification_number obvious */
/* luxury_tax_identification_number obvious */
/* service_tax_identification_number obvious */
/* creation_time obvious */
/* issue_date obvious note this is a mysql DATE */
/* due_date date by which invoice should be paid */
/* cancelled_date the date merchant cancels this invoice */
/* logo_identifier the logo associated with this invoice */






create table invoice (
	id INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
	merchant_identifier INT UNSIGNED NOT NULL,
	invoice_number VARCHAR(100),
	total_amount DECIMAL(8,2) NOT NULL,
	net_amount DECIMAL(8,2) NOT NULL,
	vat_amount DECIMAL(8,2),
	other_taxes DECIMAL(8,2),
	shipping_amount DECIMAL(3,2), 
	currency_code VARCHAR(3) NOT NULL,
	is_estimate CHAR(1),
	terms VARCHAR(400),
	notes VARCHAR(400),
	memo VARCHAR(400),
	receipt_details VARCHAR(300),
	allow_partial_payments CHAR(1),
	vat_indentification_number VARCHAR(30),
	cst_indentification_number VARCHAR(30),
	luxury_tax_identification_number VARCHAR(30),
	service_tax_identification_number VARCHAR(30),
	creation_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
	issue_date DATE,
	due_date DATE,
	cancelled_date DATE,
	logo_identifier INT(11),
	PRIMARY KEY(id)
);

alter table invoice add index merchant_indentifier_idx (merchant_identifier);