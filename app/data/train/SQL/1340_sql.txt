DROP TABLE IF EXISTS dvlpmnt_nm.sites_and_hosts CASCADE;

CREATE TABLE dvlpmnt_nm.sites_and_hosts
(
  site_id integer NOT NULL,
  host_id integer NOT NULL,
  site_created timestamp without time zone DEFAULT now(),
  CONSTRAINT sites_and_hosts_pkey PRIMARY KEY (site_id, host_id),
  CONSTRAINT sites_and_hosts_host_id_fkey FOREIGN KEY (host_id)
      REFERENCES dvlpmnt_nm.hosts (host_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE cascade,
  CONSTRAINT sites_and_hosts_site_id_fkey FOREIGN KEY (site_id)
      REFERENCES dvlpmnt_nm.sites (site_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE cascade
)
WITH (
  OIDS=FALSE
);
