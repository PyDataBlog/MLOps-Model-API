DROP TABLE IF EXISTS ACCOUNT;

CREATE TABLE ACCOUNT (
	ID INT AUTO_INCREMENT,
	ACCOUNT_UID VARCHAR(10),
	START_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP(),
	END_DATE TIMESTAMP,
	CUSTOMER_ID INT,  
    FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER(ID),
	VERSION INT DEFAULT 0,
	UPDATED_BY NVARCHAR2(255) DEFAULT 'SYS',
	UPDATED_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP(),
	CREATED_BY NVARCHAR2(255) DEFAULT 'SYS',
	CREATED_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP()
);

CREATE UNIQUE INDEX UI_ACCOUNT_CUSTOMER ON ACCOUNT(ACCOUNT_UID, CUSTOMER_ID);
