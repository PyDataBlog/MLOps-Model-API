module SpreeInpay
  class PaymentProcessor
    def initialize(payment)
      @payment = payment
    end

    def process(state)
      if state == 'received'
        @payment.pend!
        @payment.order.next
      elsif state == 'confirmed'
        @payment.complete!
      end
    end
  end
end
