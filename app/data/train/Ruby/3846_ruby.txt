require 'rails_helper'

RSpec.describe 'routes', type: :routing do
  it '/ routes to the homepage' do
    expect(get: '/').to route_to(controller: 'home', action: 'show')
  end

  describe 'Users' do
    it 'users show route' do
      expect(get: '/users/4').to route_to(controller: 'users', action: 'show', id: '4')
    end

    it 'users no index' do
      expect(get: 'users').not_to be_routable
    end
  end

  describe 'Contests' do
    it 'have an index route' do
      expect(get: '/contests').to route_to(controller: 'contests', action: 'index')
    end

    it 'have a show route' do
      expect(get: '/contests/5').to route_to(controller: 'contests', action: 'show', id: '5')
    end
  end

  describe 'Ballots' do
    it 'have a new route' do
      expect(get: 'ballots/new').to route_to(controller: 'ballots', action: 'new')
    end

    it 'have a new route' do
      expect(get: 'ballots/18').to route_to(controller: 'ballots', action: 'show', id: '18')
    end
  end
end
