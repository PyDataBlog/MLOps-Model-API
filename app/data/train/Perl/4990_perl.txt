#!/usr/bin/perl

use warnings;
use strict;
use DBI;
require "approx_search.pl";


my $brainz_db = DBI->connect("dbi:Pg:dbname=musicbrainz_db","sunny","")
	or die "Couldnot open database\n";
my @artist_album_song;

my $artist_name = "The Beatles";

@artist_album_song = &get_track_by_artist($brainz_db , $artist_name);

my %result = &find_track( "hey jude" , @artist_album_song);



my @sorted_hash = sort {$result{$b} <=> $result{$a}} keys %result;
	
	while ( $#sorted_hash >= 0){
		my $temp1 = shift @sorted_hash;
		
		print "$result{$temp1} <---> $temp1  \n";
	}
		
#### Printing area #####

#{
	#print "Artist Name:  $artist_album_song[0] \n";
	#for my $i (1..$#artist_album_song){
	#	print  "\t$artist_album_song[$i][0] : $artist_album_song[$i][1] : $artist_album_song[$i][2] : $artist_album_song[$i][3]\n";
	#	for my $j (4..$#{$artist_album_song[$i]}){
	#		print "\t\t@{$artist_album_song[$i][$j]}\n"; 
	#	}
	#}
#}

$brainz_db->disconnect();
