#!/usr/bin/perl
# vim:set tw=78 ts=4 sw=4 ai:

use strict;
use warnings;
use lib '.';
use utf8;

use List::Util qw /shuffle/;
use ozi;


my ($text) = ozi::data;
my %stash;

my @abc = split '', 'абвгґдеєжзиіїйклмнопрстуфхцчшщьюя-';
$stash{Abc} = \@abc;
my @key = shuffle @abc;
$stash{EncKey} = \@key;

my %enc;
for (my $i = 0; $i < @abc; ++$i)
	{ $enc{$abc[$i]} = $key[$i] }
$stash{EncMap} = \%enc;
my %dec = reverse %enc;
$stash{DecMap} = \%dec;
$stash{DecKey} = [@dec{@abc}];

$stash{DecText} = $text;
$stash{EncText} = join '', (map {$enc{$_}} split '', $text);

ozi::run(\%stash);
