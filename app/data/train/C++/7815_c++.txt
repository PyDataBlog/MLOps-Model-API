#include "game.h"
#include "config.h"

#include <iostream>

#ifdef _WIN32
#include <windows.h>

int WinMain(HINSTANCE hInstance, HINSTANCE, LPSTR, int) {
#else

int main(int argc, char **argv) {
#endif

	Config myConfig("config.ini");

	Game::FlagsCollection initFlagsColleciton = {
		Vingine::InitFlags::Input | Vingine::InitFlags::Graphics | Vingine::InitFlags::DebugLog,
		Vingine::WindowFlags::Resizable | Vingine::WindowFlags::FileDrop,
		static_cast<Vingine::RenderFlags>(0x0),
		Vingine::LogFlags::Console | Vingine::LogFlags::File | Vingine::LogFlags::FatalQuit
	};


#ifdef _WIN32
	Game game(myConfig);
	game.Init(initFlagsColleciton, hInstance);
#else
	Game game(myConfig);
	game.Init(initFlagsColleciton);
#endif

	game.Run();
	

	return 0;
}