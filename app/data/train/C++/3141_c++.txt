#include "Core.h"
#include "Async/ActionGraph.h"
#include "ActionGraphImplementation.h"

std::shared_ptr<ActionGraphInterface> ActionGraphInterface::c_graphImp = nullptr;

std::weak_ptr<ActionGraphInterface> ActionGraphInterface::Get()
{
	// if it`s not init, just crash.
	check(c_graphImp != nullptr);
	return c_graphImp;
}

void ActionGraphInterface::Init(const unsigned int& inWorkThreadNum)
{
	c_graphImp = std::shared_ptr<ActionGraphInterface>(new ActionGraphImplementation());
	c_graphImp->ConstructWorkThread(inWorkThreadNum);
}
