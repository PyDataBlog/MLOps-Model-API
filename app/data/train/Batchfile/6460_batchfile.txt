@echo off

:: 1) Cambiare [[Worker]] con il nome dell'eseguibile.
:: 2) Aggiungere eventuali altri file richiesti nella pubblicazione.
:: 3) Registrare lo script negli eventi "post build" dell'eseguibile:
::      if $(ConfigurationName) == Release (
::        cd $(ProjectDir)
::        Publish.bat
::      )

set files[0]="bin\Release\[[Worker]].exe"
set files[1]="bin\Release\[[Worker]].exe.config"
set files[2]="bin\Release\NLog.config"

set pubdir="bin\Publish"
rmdir /s /q %pubdir%
mkdir %pubdir%

set "x=0"

:SymLoop
if defined files[%x%] (
    call copy %%files[%x%]%% %pubdir%
    set /a "x+=1"
    goto :SymLoop
)
