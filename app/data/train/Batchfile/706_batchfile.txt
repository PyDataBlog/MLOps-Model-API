@ECHO ON

START "" zput -vv -q -t 10 LICENSE
zget -vv -q -t 10 LICENSE recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1
md5 -cd4999f5a6fb5ebee9c8fb5496d57050f recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1

START "" zput -vv -q -t 10 -a 127.0.0.1 LICENSE
zget -vv -q -t 10 LICENSE recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1
md5 -cd4999f5a6fb5ebee9c8fb5496d57050f recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1

START "" zput -vv -q -t 10 -p 8808 LICENSE
zget -vv -q -t 10 LICENSE recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1
md5 -cd4999f5a6fb5ebee9c8fb5496d57050f recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1

START "" zput -q -t 10 LICENSE
zget -q -t 10 LICENSE recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1
md5 -cd4999f5a6fb5ebee9c8fb5496d57050f recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1

START "" zput -t 10 LICENSE
zget -t 10 LICENSE recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1
md5 -cd4999f5a6fb5ebee9c8fb5496d57050f recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1

START "" zput -vv -q -t 10 "tests/filename with spaces"
zget -vv -q -t 10 "filename with spaces" recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1

START "" zput -vv -q -t 10 LICENSE asd
zget -vv -q -t 10 LICENSE recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1
md5 -cd4999f5a6fb5ebee9c8fb5496d57050f recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1

START "" zput -vv -q -t 10 LICENSE asd
zget -vv -q -t 10 asd recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1
md5 -cd4999f5a6fb5ebee9c8fb5496d57050f recv_LICENSE
IF ERRORLEVEL 1 EXIT /B 1

@ECHO OFF
