<?php

class   SCWS  {

    public  $dict = 'C:\xampp\htdocs\ManYouRen\2\protected\vendors\scws\dict.xdb';	// Ä¬ÈÏ²ÉÓÃ xdb (²»ÐèÆäËüÈÎºÎÒÀÀµ)
    public  $mydata  = NULL;	// ´ýÇÐÊý¾Ý
    public  $version = 2;		// ²ÉÓÃ°æ±¾
    public  $autodis = false;	// ÊÇ·ñÊ¶±ðÃû×Ö
    public  $ignore  = false;	// ÊÇ·ñºöÂÔ±êµã
    public  $debug   = false;	// ÊÇ·ñÎª³ý´íÄ£Ê½
    public   $stats     = false;	// ÊÇ·ñ²é¿´Í³¼Æ½á¹û
    public   $result=array();

        public  function  parse($mydata){
$this->dict=Yii::getPathOfAlias('application.vendors.scws').DIRECTORY_SEPARATOR.'dict.xdb';

$a=mb_convert_encoding($mydata, 'GBK','UTF-8');
$object = 'PSCWS' . $this->version;
require (strtolower($object) . '.class.php');
$cws = new $object($this->dict);
$cws->set_ignore_mark($this->ignore);
$cws->set_autodis($this->autodis);
$cws->set_debug($this->debug);

$cws->set_statistics($this->stats);
$ar=$cws->segment($a);
 foreach ($ar as $tmp)
    {
        if ($tmp == "\n")
        {
                                                  
            continue;
        }
                                               
          array_push($this->result,mb_convert_encoding($tmp, 'UTF-8','GBK')) ;
        
    }
   // flush();
        }
       
}

              

?>
