<?php
/* This helps define aditional configurations for emails notifications. Templates and automatic emails are also defined here.
* Author: Leonardo Martinez.
*/

/******************************************************************************/
/*                       EMAIL SMTP CONFIGURATION                             */
/******************************************************************************/

/*
  Email settings for closettine
*/

add_action( 'phpmailer_init', 'config_mail_contact' );
function config_mail_contact( $phpmailer ) {
    $phpmailer->Host = 'smtp.gmail.com';
    $phpmailer->Port = 465; // could be different
    $phpmailer->Username = 'breakpointcontactus@gmail.com'; // if required
    $phpmailer->Password = '2Alvaro0Arelis1Leo6'; // if required
    $phpmailer->SMTPAuth = true; // if required
    $phpmailer->SMTPSecure = 'ssl';
    $phpmailer->IsSMTP();
}

//Filtro para indicar que email debe ser enviado en modo HTML
add_filter('wp_mail_content_type',create_function('', 'return "text/html";'));

//Cambiamos el remitente del email que en Wordpress por defecto es tu email de admin
add_filter('wp_mail_from','emailRemitente');

function emailRemitente($content_type) {
  return 'noreply@breakpoint.com';
}

//Cambiamos el nombre del remitente del email que en Wordpress por defecto es "Wordpress"
add_filter('wp_mail_from_name','nombreRemitente');

function nombreRemitente($name) {
  return 'Break Point';
}


/******************************************************************************/
/*                             EMAIL TEMPLATES                                */
/******************************************************************************/

/*
* Regurns css styles for emails.
*/

function get_email_styles(){
  $styles = '
  body {
    font-size: 15px;
    width: 600px;
    font-family: "Josefin Sans", sans-serif;
    text-align: justify;
    background: #FFF;
  }

  img {
    display: inline-block;
  }

  h1, h2, h3, h4, h5 {
    color: #006699;
  }

  .body-inner {
    padding: 10%;
    margin: 0;
    border-right: 50px solid #00283C;
    border-left: 50px solid #00283C;
  }

  a {
    color: #006699 !important;
    text-decoration: none;
    font-weight: bolder;
  }

  a:hover {
    color: #006699;
    text-decoration: underline;
  }

   button {
    color: #00283C !important;
    background: none;
    margin: 2vw auto;
    border: 1px solid #006699;
    border-radius: 5px;
    width: 150px;
    height: 25px;
    text-align: center;
    font-size: 15px;
    display: block;
   }

    button:hover,
    button:active,
    button:focus {
      color: white !important;
      background-color: #006699;
   }
  ';
  return $styles;
}

/*
* Generic template for all *most* emails.
*/

function generic_template($title = "", $content) {
    $message =  '
    <html>
    <head>
      <link href="https://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet">
      <style type="text/css">
      '.get_email_styles().'
      </style>
    </head>
    <body>
      <div class="body-inner">
      <img style="margin: 0 auto; display: block;"
        src="https://docs.google.com/uc?id=0B4X9fCHEUJBCRmNOeWJRWjNlcXM"
        alt="breakpointlogo" height="70px" width="70px"/>
      <center><h2> '.$title. '</h2></center><br>
      <p>'.$content.'</p>
      <br>
      <br>
      <center>
        <a href="https://www.facebook.com/breakpointpage"><img src="https://docs.google.com/uc?id=0B4X9fCHEUJBCNE9XOUFDVEpRdlE"></a>
        <a href="https://twitter.com/breakpointpage"><img src="https://docs.google.com/uc?id=0B4X9fCHEUJBCdW85ZGhHTUhQeGs"></a>
        <a href="https://www.instagram.com/breakpointpage/"><img src="https://docs.google.com/uc?id=0B4X9fCHEUJBCNzBkdnhMLVhyLXM"></a>
      </center>
      <center><p style="font-size: 10px;">&copy; Break-Point '.date("Y").'. Derechos Reservados.</p></center>
    </body>
    </html>';
    return $message;
}

function contact_reply_template($title = "¡Gracias por escribirnos!") {
    $message =  '
    <html>
    <head>
      <link href="https://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet">
      <style type="text/css">
      '.get_email_styles().'
      </style>
    </head>
    <body>
      <div class="body-inner">
      <img style="margin: 0 auto; display: block;"
        src="https://docs.google.com/uc?id=0B4X9fCHEUJBCRmNOeWJRWjNlcXM"
        alt="breakpointlogo" height="70px" width="70px"/>
      <center>
        <h2>'.$title.'</h2><br>
        <p>Mientras esperas nuestra respuesta ¡Explora nuestro contenido!</p>
      </center>
      <a href="'.get_bloginfo('url')."/blog".'">
        <img style="margin: 15px auto; display: block;"
          src="https://docs.google.com/uc?id=0B4X9fCHEUJBCQ1hFdEZUZnRHTTg"
          alt="breakpointblog" height="125px" width="125px"/>
      </a>
      <center><a href="'.get_bloginfo('url')."/blog".'"><h2>Blog</h2></a></center>
      <br>
      <br>
      <center>
        <a href="https://www.facebook.com/breakpointpage"><img src="https://docs.google.com/uc?id=0B4X9fCHEUJBCNE9XOUFDVEpRdlE"></a>
        <a href="https://twitter.com/breakpointpage"><img src="https://docs.google.com/uc?id=0B4X9fCHEUJBCdW85ZGhHTUhQeGs"></a>
        <a href="https://www.instagram.com/breakpointpage/"><img src="https://docs.google.com/uc?id=0B4X9fCHEUJBCNzBkdnhMLVhyLXM"></a>
      </center>
      <center><p style="font-size: 10px;">&copy; Break-Point '.date("Y").'. Derechos Reservados.</p></center>
      </body>
    </html>';
    return $message;
}
https://drive.google.com/open?id=0B4X9fCHEUJBCNzBkdnhMLVhyLXM
