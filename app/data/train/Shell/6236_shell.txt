#!/bin/bash

#: script que cambios os permisos de execucion de carpetas e arquivos
#: nunha ruta dada

#################################################
dire=0
arc=0
ruta=""
argc=$#
argv=$*
#################################################

echo "introduce o valor dos permisos a poñer sobre os directorio en octal"
read dire
echo "introduce o valor dos permisos a poñer sobre os arquivos en octal"
read arc
echo "introduce a ruta na que executar sen barra o final"
read ruta



functionR(){
	for i in $*/*
	do
		if [ -d $i ]
		then
			echo "dir $i"
			chmod $dire $i
			tab="	"
			functionR $i
			
		else
			
			echo "$tab arquivo $i"
			chmod $arc $i
		fi
	done	
}

functionR $ruta
