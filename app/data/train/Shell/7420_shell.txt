#!/bin/bash
clear
echo "Call trans opt: received. 2-19-98 13:24:18 REC:Loc"
sleep 1;
echo "Trace program: running"
sleep 1;
echo " wake up, Neo..."
sleep 1;
echo "the matrix has you"
sleep 1;
echo "follow the white rabbit."
sleep 2;
echo "+++++++++++++++++++++VT Hash Checker+++++++++++++++++++++++++++"
echo "==============================================================="
echo "=make sure your md5 hashes are one per line in vthashcheck.txt="
echo "=============cntrl+c now to do that and rerun=================="
echo "== == == == == ==or press enter to continue== == == == == == =="
echo "==============================================================="
read
while read line; do curl -s -X POST 'https://www.virustotal.com/vtapi/v2/file/report' --form apikey="XXXXXXXXXXXXXXXXXXXXXx" --form resource="$line" | awk -F 'positives\":' '{print "Hits: " $2}' | awk -F ' ' '{print $1$2$3$6$7}' | sed 's|["}]||g' > vtchecked.txt && sleep 16; done <vthashcheck.txt
grep "Hits :[1-9]" vtchecked.txt > confirmed.txt
rm vtchecked.txt
echo "if any confirmed hashes are found, they are printed below"
echo "the hashes are stored in confirmed.txt"
sleep 2;
cat confirmed.txt
echo "completed"
