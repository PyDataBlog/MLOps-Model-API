#!/bin/sh

# You should run this shells script in root mode.
# sudo su
# ./install-kubeadm.sh
# # refer : http://kubernetes.io/docs/getting-started-guides/kubeadm/

apt-get update && apt-get install -y apt-transport-https

curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -
cat <<EOF > /etc/apt/sources.list.d/kubernetes.list
deb http://apt.kubernetes.io/ kubernetes-xenial main
EOF

apt-get update
# Install docker if you don't have it already.
apt-get install -y docker.io
apt-get install -y kubelet kubeadm kubectl kubernetes-cni

## (3/4) Installing a pod network
# kubectl apply -f <add-on.yaml>
# eg. a. Weave Net
## Weave Net can be installed onto your CNI-enabled Kubernetes cluster with a single command:
#kubectl apply -f https://git.io/weave-kube
# b.flannel
#wget https://github.com/coreos/flannel/blob/master/Documentation/kube-flannel.yml


#  you can install the latest stable release by running the following command:
#kubectl create -f https://rawgit.com/kubernetes/dashboard/master/src/deploy/kubernetes-dashboard.yaml
