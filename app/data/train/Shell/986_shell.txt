#!/bin/bash

# Author: Bruno Queiros (bqueiros@gmail.com)
# Version: 1.0
# Date: 05/03/2017
# Notes: Simple script that allows to choose the type of keyboard to use, and mounts the 2 NAS

#--bg-center bg-fill bg-max --bg-scale --bg-title
#feh --bg-fill /home/bruno/Dropbox/Pessoal/Wallpapers/404_wallpaper.png

#/usr/X11R6/share/X11/xkb/rules/base.lst

read -p 'Which keyboard?
[1] - Dell Vostro
[2] - Apple Wireless
[3] - KPB V60
: ' teclado

if [ $teclado == 1 ] ; then
        echo "Dell Vostro"
        setxkbmap -model dell -layout pt
elif [ $teclado == 2 ] ; then
        echo "Apple Wireless"
        setxkbmap -model applealu_iso -layout pt -option alupckeys
        xmodmap -e 'keycode 169 = Delete'
##echo 2 | sudo tee /sys/module/hid_apple/parameters/fnmode
elif [ $teclado == 3 ] ; then
        echo "KBP v60 US"
        setxkbmap -layout "us"
        xmodmap -e 'keycode 133 = Control_L'
        xmodmap -e 'keycode 143 = Control_R'
else
        echo "Invalid Option"
fi

#nas="/home/bruno/NAS"
#nas2="/home/bruno/NAS2"

#if  mount | grep "on ${nas} type" > /dev/null  ; then
if  mount | grep "nas:" > /dev/null  ; then
        echo "NAS already mounted"
else
        echo "NAS not mounted, mounting now..."
        sudo mount -t nfs nas:/ffp/home/root/HD_a2 /home/bruno/NAS/
fi

if  mount | grep "nas2:" > /dev/null  ; then
        echo "NAS2 already mounted"
else
        echo "NAS2 not mounted, mounting now..."
        sudo mount -t nfs nas2:/mnt/ide2/nas2 /home/bruno/NAS2/
fi
