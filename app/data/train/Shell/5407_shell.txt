#!/bin/sh
# Run this to generate all the initial makefiles, etc.

if ! [ -f mu/mu.c ] ; then 
    echo "You must run this script in the top-level $PROJECT directory"
    exit 1
fi

AUTORECONF=`which autoreconf`
if [ -z "$AUTORECONF" ] ; then
    echo "*** No autoreconf found, please install it ***"
    exit 1
fi

# NOCONFIGURE is used by gnome-common
if [ -z "$NOCONFIGURE" ] ; then
    if test -z "$*"; then
        echo "I am going to run ./configure with no arguments - if you wish "
        echo "to pass any to it, please specify them on the $0 command line."
    fi
fi

rm -f config.cache
rm -rf autom4te.cache
autoreconf --force --install --verbose || exit $?

test -n "$NOCONFIGURE" || ./configure -C $@

