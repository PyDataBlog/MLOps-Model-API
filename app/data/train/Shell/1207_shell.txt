#!/bin/bash
# Copyright 2012 by Laszlo Nagy [see file MIT-LICENSE]
#
# This code is based on this blog entry and tailored to fedora use case
#    http://www.lucas-nussbaum.net/blog/?p=385

set -o nounset
set -o errexit
set -o xtrace

bootstrap_fedora()
{
    local target=$1
    local release=$2

    mkdir -p "$target/var/lib/rpm"
    rpm --root $target --initdb
    rpm -ivh --nodeps --root $target $release

    yum --installroot $target --assumeyes --noplugins install yum rpm-build redhat-rpm-config yum-utils createrepo sudo tar stow $(basename $release)
    yum --installroot $target --assumeyes --noplugins group install "Development Tools"
}

