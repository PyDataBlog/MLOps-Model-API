//# sourceURL=add.js
$(function () {
    $("#frm").jValidate({
        rules:{
            name:{
                required:true,
                minlength:2,
                maxlength:32,
                stringCheck:true
            },
            code:{
                required:true,
                minlength:2,
                maxlength:64,
                pattern:/^\w{2,32}$/,
                checkRepeat1:["/admin/system/courier/checkCode",'$value']
            },
            cost:{
                money:true
            },
            address:{
                minlength:2,
                maxlength:64
            },
            linkman:{
                minlength:2,
                maxlength:32
            },
            linkphone:{
                checkPhone:true,
                minlength:8,
                maxlength:32
            },
            email:{
                email:true,
                minlength:8,
                maxlength:32
            },
            remark:{
                minlength:2,
                maxlength:128
            }
        },
        messages:{
            code:{
                checkRepeat1:"快递公司编码已经存在",
                pattern:'快递公司编码无效'
            }

        }
    });

    $('#save').click(function () {
        var valid=$("#frm").valid();
        if(!valid) return;
        $.jAjax({
            url:'/admin/system/courier/add',
            data:$('#frm').formData(),
            method:'post',
            success:function(data){
                if($.isPlainObject(data) && data.id>0){
                    $.notice('快递公司保存成功');
                    $('#frm').resetForm();
                }
            }
        })
    });

    $('#reset').click(function(){
        $('#frm').resetForm();
    })

})