// This is a manifest file that'll be compiled into application.js, which will include all the files
// listed below.
//
// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,
// or vendor/assets/javascripts of plugins, if any, can be referenced here using a relative path.
//
// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the
// the compiled file.
//
// WARNING: THE FIRST BLANK LINE MARKS THE END OF WHAT'S TO BE PROCESSED, ANY BLANK LINE SHOULD
// GO AFTER THE REQUIRES BELOW.
//
//= require jquery
//= require jquery_ujs
//= require jquery.Jcrop.min
//= require bootstrap
//= require bootstrap-datepicker
//= require jquery-fileupload/basic
//= require attendances
//= require courses
//= require jcrop_mugshot
//= require people
//= require rolls
//= require users
//= require hogan-2.0.0
//= require typeahead
//= require people_typeahead
//= require underscore
//= require jquery.tokeninput 
//= require token-input-wireup
//= require_tree .

function initializeDatePicker() {
  $('input.date_picker').datepicker({
    autoclose: true,
    todayHighlight: true,
    dateFormat: 'mm/dd/yyyy'
  });
}

$(document).ready(initializeDatePicker);
$(document).on('page:change', initializeDatePicker);

// whenever the bootstrap modal closes, reset it's contents
$(function() {
  $('#myModal').on('hidden', function () {
  	$('#myModal div.modal-body').html("<p>Loading... <i class=\"icon-refresh\"></i></p>");
  	$('#myModalLabel').text('');
  });
});

// handle link_to remote and replace contents into data-replace id element
$(function() {
  $(document)
    .data('type', 'html')
    .delegate('[data-remote][data-replace]', 'ajax:success', function(event, data) {
      var $this = $(this);
      $($this.data('replace')).html(data);
      $this.trigger('ajax:replaced');
    });
});
