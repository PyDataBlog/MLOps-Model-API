import {FkJsListener} from './antlr/FkJsListener';
import {FkJsParser} from './antlr/FkJsParser';

/**
 * Obtains a list of modes and mixins from a .fk
 * file, as well as other information.
 */
export default class PreProcessor extends FkJsListener {
    /**
     * @type {string}
     */
    defaultMode;

    /**
     * @type {Object}
     */
    mixins = {};

    /**
     * @type {Object}
     */
    modes = {};

    /**
     *
     * @param ctx {FkJsParser.ModeDeclContext}
     */
    enterModeDecl(ctx) {
        this.modes[ctx.name.text] = ctx;
    }

    enterMixinDecl(ctx) {
        this.mixins[ctx.name.text] = ctx;
    }

    enterDefaultModeDecl(ctx) {
        this.defaultMode = ctx.ID().getText();
    }
}