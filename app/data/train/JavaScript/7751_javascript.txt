import {VType, validateEventFactory, BaseEvent} from '../../common/events'
import oncePerServices from '../../common/services/oncePerServices'

export default oncePerServices(function defineEvents({bus = missingService('bus')}) {

  bus.registerEvent([
    {
      kind: 'event',
      type: 'connector.telegram.started',
      toString: (ev) => `${ev.service}: bots webhooks: ${Object.entries(ev.bots).map(([botName, bot]) => `\n\t${botName} (${bot.ref}): ${bot.webhook}`)}`,
    },
  ]);
})
