/**
 * main.js: The entry point for MuTube.
 * Plays the role of the 'main process' in Electron.
 */

// define constants from various packages for the main process
const {
    app,
    BrowserWindow,
    ipcMain
} = require('electron');

let mainWindow;

// execute the application
app.on('ready', () => {
    // create the main broswer window with the following array values
    mainWindow = new BrowserWindow({
        title: "MuTube",
        width: 600,
        height: 600,
        minWidth: 600,
        minHeight: 600,
        center: true,
        backgroundColor: "#181818",
        // mainly for Linux-based OSes running GTK
        darkTheme: true,
        // only for macOS when scrolling passed the beginning and ends of page
        scrollBounce: true
    });

    // remove the menu bar
    mainWindow.setMenu(null);
    // load broswer window content
    mainWindow.loadURL('file://' + __dirname + '/html/index.html');
});

// when ipc receives signal, 'toggleDevTools', from renderer
ipcMain.on('toggleDevTools', function() {
    if (mainWindow.isDevToolsOpened()) {
        mainWindow.closeDevTools();
    } else {
        mainWindow.openDevTools({
            mode: 'detach'
        });
    }
});
