'use strict';

/**
 * Module dependencies.
 */
var  errorHandler = require('./errors.server.controller'),
     db = require('../models/fixsession.server.model'),
     _ = require('lodash'),
     bluebird = require('bluebird');

/**
 * Create a Fixsession
 */
exports.create = function(req, res) {
  db.FixSession.create({
    name: req.body.name,
    assignedFixManager:  req.body.assignedFixManager,
    assignedTcpManager:  req.body.assignedTcpManager,
    initiator : req.body.initiator,
    host: req.body.host,
    port: req.body.port,
    username: req.body.username,
    password: req.body.password,
    defaultRoute: req.body.defaultRoute,
    assignedOOBProcessor:  req.body.assignedOOBProcessor
  }).complete(function(err, results){
    res.sendStatus(201);
  });
};


/**
 * List of Fixsessions
 */
exports.list = function(req, res) { 
  db.FixSession.findAll()
        .complete(function(err, results){
          res.json(results);
        });
};
