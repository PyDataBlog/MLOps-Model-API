using System;

namespace Railgun.Common.Chat.Events
{
    public class ChatEvent : IEquatable<ChatEvent>
    {
        public uint Id { get; set; }
        public DateTime Date { get; protected set; } = DateTime.Now;

        public event Action<ChatEventUpdateInfo> OnUpdate;

        public bool Equals(ChatEvent other) => other != null && other.Id == Id;

        protected void InvokeOnUpdate(ChatEventUpdateInfo info)
            => OnUpdate?.Invoke(info);

        public override string ToString()
        {
            return GetType().Name + " " + Id + " <" + Date + ">";
        }
    }
}
