using System;
using System.ComponentModel;
using OpenCube.Game.Models.Converters;
using OpenCube.Nbt.Mapping.Attributes;

namespace OpenCube.Game.Models.Level
{
	/// <summary>
	/// Data about the world border of a game
	/// </summary>
	[CLSCompliant(false)]
	public sealed class WorldBorder
	{
		/// <summary>
		/// Gets or sets the center of the world border
		/// </summary>
		[NbtName("BorderCenterX", "BorderCenterZ")]
		[NbtConverter(typeof(DoubleVector2Converter))]
		public Vector2d Center { get; set; }

		/// <summary>
		/// Gets or sets the size of the world border.
		/// </summary>
		[NbtName("BorderSize")]
		[DefaultValue(60000000d)]
		public double Size { get; set; }

		/// <summary>
		/// Gets or sets the safe zone of the world border.
		/// </summary>
		[NbtName("BorderSafeZone")]
		[DefaultValue(5d)]
		public double SafeZone { get; set; }

		/// <summary>
		/// Gets or sets the number of warning blocks of the world border
		/// </summary>
		[NbtName("BorderWarningBlocks")]
		[DefaultValue(5d)]
		public double WarningBlocks { get; set; }

		/// <summary>
		/// Gets or sets the warning time of the world border
		/// </summary>
		[NbtName("BorderWarningTime")]
		[NbtConverter(typeof(DoubleToSecondsTimeSpanConverter))]
		[DefaultValue(15d)]
		public TimeSpan WarningTime { get; set; }

		/// <summary>
		/// Gets or sets the size of the lerp (lineare interpolation) target of the word border.
		/// </summary>
		/// <remarks>The target size of the border.</remarks>
		[NbtName("BorderSizeLerpTarget")]
		[DefaultValue(60000000d)]
		public double SizeLerpTarget { get; set; }

		/// <summary>
		/// Gets or sets the physicial time between lerp (lineare interpolation) changes of the world border towards the <see cref="SizeLerpTarget"/>.
		/// </summary>
		[NbtName("BorderSizeLerpTime")]
		[DefaultValue(0L)]
		[NbtConverter(typeof(GameTimeSpanConverter))]
		public GameTimeSpan SizeLerpTime { get; set; }

		/// <summary>
		/// Gets or sets the damage per block when entering outside de world border.
		/// </summary>
		[NbtName("BorderDamagePerBlock")]
		[DefaultValue(0.2d)]
		public double DamagePerBlock { get; set; }
	}
}