vpath %.c = src/
vpath %.h = inc/

#CROSS = arm-none-linux-gnueabi

#CC = $(CROSS)-gcc
CC = gcc

ELF = main

CPPFLAGS += -Iinc

LDFLAGS += -lpthread

SRCS := $(wildcard src/*.c)
OBJS := $(patsubst %.c, %.o, $(SRCS))


$(ELF):$(OBJS)
	$(CC) -o $@ $^ $(CPPFLAGS) $(LDFLAGS)
	-@$(RM) src/*.o

$(OBJS):%.o:%.c
	#$(CC) -c $^ -o $@ $(CPPFLAGS) $(LDFLAGS) -DSYSIO
	$(CC) -c $^ -o $@ $(CPPFLAGS) $(LDFLAGS) -DSTDIO


clean:
	-@$(RM) src/*.o $(ELF)
