ARM = arm-none-eabi

#arm-none-eabi-as <nome do ficheiro fonte>.S -o <nome do ficheiro objeto>.o
AS = $(ARM)-as

#arm-none-eabi-as <nome do ficheiro fonte>.S -o <nome do ficheiro objeto>.o
GCC = $(ARM)-gcc

#arm-none-eabi-ld <nome do ficheiro objeto>.o -o <nome do ficheiro loc>.axf						
LD = $(ARM)-ld

d: d-start d-main d-delay d-axf cleand

d-start: 
	$(AS) init.S -o debug/init.o

d-delay:
	$(AS) delay.S -o debug/delay.o

d-main:
	$(GCC) -c -g main.c -o debug/main.o
	
d-axf:
	$(LD) debug/init.o debug/main.o debug/delay.o -L ../../libs -l LED -T ../../bsp/ldscript_ram -o debug/debug.axf

cleand:
	rm -f debug/*.o
	
#r
	
#cleanr:
#	rm -f release/*.o release/*.axf
