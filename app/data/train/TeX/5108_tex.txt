\documentclass[a4paper, 12pt]{scrartcl}

%===============================================================================
% Packages
%===============================================================================
\usepackage{fontspec}
\usepackage{geometry}
\usepackage[ngerman]{babel} % Use new german language definition
\usepackage{hyperref} % Hyperlinks in PDFs
\usepackage{amsmath, amsfonts, amssymb} % Math packages
\usepackage{graphicx} % For Graphics
\usepackage{xcolor} % For coloring texts
\usepackage{times} % Times New Roman Font
\usepackage{tikz} % The TikZ vector graphic library
\usepackage{fancyhdr} % Fancy headings
\usepackage{nameref} % References for names instead of numbers
\usepackage[absolute]{textpos} % Absolute positioning
\usepackage{titlesec} % Customizable ((Sub)Sub)Sections
\usepackage[titles]{tocloft} % Customizable ToC, LoF, …
\usepackage{pdfpages} % Embedding pdfs
\usepackage{wallpaper} % Background images
\usepackage{tikz-er2} % Entity relation diagrams
\usepackage{listings} % Code listings
\usepackage{acronym} % Using acronyms
\usepackage{natbib} % Literature

%===============================================================================
% Tikz-Librarys
%===============================================================================
\usetikzlibrary{positioning}
\usetikzlibrary{shadows}

\tikzstyle{every node} = [font=\sffamily]
\tikzstyle{every entity} = [top color=kiba!10, bottom color=kiba!70, 
                            draw=kiba!80!black, drop shadow, font=\sffamily\bfseries]
\tikzstyle{every weak entity} = [drop shadow={shadow xshift=.7ex, 
                                 shadow yshift=-.7ex}]
\tikzstyle{every attribute} = [top color=white, bottom color=black!10, 
                               draw=black!50, node distance=1cm, drop shadow]
\tikzstyle{every relationship} = [top color=white, bottom color=red!20, 
                                  draw=red!50!black!100, drop shadow, font=\sffamily\itshape]
\tikzstyle{cty} = [auto, font=\sffamily\footnotesize]
\tikzstyle{every isa} = [top color=white, bottom color=green!20, 
                         draw=green!50!black!100, drop shadow]
                         
%===============================================================================
% BibTeX
%===============================================================================
\makeatletter
\newcommand{\bibstyle@dinat}%
	{\bibpunct{(}{)}{;}{a}{}{,~}%
		\gdef\NAT@biblabelnum##1{\textbf{##1}}}
\makeatother
                         
%===============================================================================
% Listings
%===============================================================================
\lstset{
	emph={KBABranchDao, KBAAccountDao, KBACustomerDao, KBATransactionDao, KBAExchangeRateDao, KBACustomerDao, KBACreditRatingDao, KBAMessageDao, KBAAuth, KBADependencyInjector, KibaTests, KBABootstrap},
	emph={[2]NSString, XCTAssert},
	language=[Objective]C, 
	morekeywords={new,@,},
	backgroundcolor=\color{black!3},
	columns=fullflexible,
	basicstyle=\ttfamily\footnotesize,
	keywordstyle=\bfseries\ttfamily\color{blue!50!red!80!black},
	stringstyle=\color{red!70!black}\ttfamily,
	identifierstyle=\ttfamily\itshape,
	commentstyle=\color{green!30!black}\ttfamily\itshape,
	emphstyle={\color{orange!70!black}\bfseries\texttt},
	emphstyle={[2]\color{green!60!blue!50!black}\bfseries\texttt},
	showstringspaces=false,
	flexiblecolumns=false,
	tabsize=4,
	lineskip={-1pt}
}
\makeatletter
\begingroup\let\newcounter\@gobble\let\setcounter\@gobbletwo
  \globaldefs\@ne \let\c@loldepth\@ne
  \newlistof{listings}{lol}{\lstlistlistingname}
\endgroup
\let\l@lstlisting\l@listings
\AtBeginDocument{\addtocontents{lol}{\protect\addvspace{10\p@}}}
\makeatother
\renewcommand{\lstlistoflistings}{\listoflistings}

%===============================================================================
% Definitions
%===============================================================================
%\newcommand{\semantischerAusdruck}[1]{%
%	... was macht das ... #1

\newcommand{\Stichwort}[1]{%
	\textbf{#1}}
\setlength{\parskip}{6pt}
\renewcommand{\headrulewidth}{0pt}
\linespread{1.5}
\geometry{a4paper}
\geometry{left=25mm,right=25mm,bottom=30mm,top=30mm}
\geometry{footnotesep=5mm}
\geometry{headsep=10mm}
\geometry{head=10mm}
\geometry{bindingoffset=0mm}
\definecolor{kiba}{HTML}{41707C}
\newcommand{\pre}[1]{%
	\texttt{#1}}
\renewcommand\UrlFont{}

%===============================================================================
% Collaborative
%===============================================================================
\definecolor{markus}{HTML}{FF3118}
\definecolor{alex}{HTML}{3152A5}
\definecolor{julius}{HTML}{639C18}
\definecolor{marco}{HTML}{844D18}
\definecolor{michael}{HTML}{A50063}
\definecolor{corny}{HTML}{0084A5}

\makeatletter
\def\name@markus{Markus Fasselt}
\def\name@alex{Alexander Droste}
\def\name@julius{Julius Wulk}
\def\name@marco{Marco F. Jendryczko}
\def\name@michael{Michael Schaarschmidt}
\def\name@corny{Konstantin S. M. Möllers}
\newcommand{\currentAuthor}{kiba}
\newcommand{\authoredSection}[2]{%
	\renewcommand{\currentAuthor}{#1}%
	\pagebreak
	\section[#2]{#2 {\normalfont\sffamily\small von \csname name@#1\endcsname}}}
\makeatother
\renewcommand{\lstlistingname}{Programmausdruck}
\renewcommand{\lstlistlistingname}{Programmausdrucksverzeichnis}

%===============================================================================
% Head / Foot
%===============================================================================
\pagestyle{fancy}
\fancyhf{}
\makeatletter
\fancyhead[L]{}
\fancyhead[R]{\sffamily\itshape Projektbericht „KiBa“-App}
\fancyfoot[C]{}
\fancyfoot[R]{\sffamily\thepage}
\makeatother

%===============================================================================
% Font
%===============================================================================
\setmainfont{TeX Gyre Termes}
\setsansfont[
	Extension = .ttf,
	Path = Fonts/,
	BoldFont = TheSansUHHBold,
	BoldItalicFont = TheSansUHHBolditalic,
	ItalicFont = TheSansUHHRegularItalic
]{TheSansUHHRegular}
\setmonofont[
	Extension = .otf,
	Path = Fonts/,
	BoldFont = lmmonolt10-bold,
	BoldItalicFont = lmmonolt10-boldoblique,
	ItalicFont = lmmonolt10-oblique
]{lmmono12-regular}
\defaultfontfeatures{Ligatures=TeX}

%===============================================================================
% Sections
%===============================================================================
\titleformat{\section}[hang]{\Large\sffamily\bfseries\color{\currentAuthor}}{\thesection\quad}{0pt}{}
\titleformat{\subsection}[hang]{\large\sffamily\itshape}{\thesubsection\quad}{0pt}{}
\titleformat{\subsubsection}[hang]{\large\sffamily}{\thesubsubsection\quad}{0pt}{}

%===============================================================================
% Table of Contents
%===============================================================================
\renewcommand{\cftdotsep}{\cftnodots}
\renewcommand{\cftsecfont}{\bfseries\sffamily}
\renewcommand{\cftfigpresnum}{Abb. }
\renewcommand{\cfttabpresnum}{Tab. }
\renewcommand{\cftlistingspresnum}{Prog. }
\renewcommand{\cftfigaftersnum}{:}
\renewcommand{\cfttabaftersnum}{:}
\renewcommand{\cftlistingsaftersnum}{:}
\setlength{\cftfignumwidth}{2cm}
\setlength{\cfttabnumwidth}{2cm}
\setlength{\cftlistingsnumwidth}{2cm}
\setlength{\cftfigindent}{0cm}
\setlength{\cfttabindent}{0cm}
\setlength{\cftbeforelistingsskip}{-2mm}
\setlength{\cftlistingsindent}{0cm}
\setlength{\cftbeforesubsecskip}{-1mm}
\setlength{\cftbeforesubsubsecskip}{-1mm}
\setlength{\cftsubsecindent}{0cm}
\setlength{\cftsubsubsecindent}{0cm}
\def\tocnumwidth{13mm}
\setlength{\cftsecnumwidth}{\tocnumwidth}
\setlength{\cftsubsecnumwidth}{\tocnumwidth}
\setlength{\cftsubsubsecnumwidth}{\tocnumwidth}
    
%===============================================================================
% Meta Description
%===============================================================================    
\author{%
	Alexander Droste\vphantom{yMö}\\[-2pt]
    Markus Fasselt\vphantom{yöM}\\[-2pt]
    Marco F. Jendryczko\vphantom{yMö}\\[-2pt]
    Konstantin S. M. Möllers \vphantom{yMö}\\[-2pt]
    Michael Schaarschmidt\vphantom{yöM}\\[-2pt]
    Julius Wulk\vphantom{yMö}}
\title{Die „KiBa“-App}
\date{Wintersemester 2013/14}
\hypersetup{pdftitle = {Die \glqq{}KiBa\grqq{}-App},
            pdfsubject = {Projektbericht der App},
            pdfauthor = {Droste, Fasselt, Jendryczko, M\"ollers, Schaarschmidt, Wulk},
            pdfcreator = {Gruppe 1 - KiBa},
            pdfproducer = {KiBa App PDF},
            linkbordercolor = {.25390625 .4375 .484375},
            urlbordercolor = {.25390625 .4375 .484375}}

    
%===============================================================================
% Document
%===============================================================================
\begin{document}
	
\input{Titlepage}
\newpage
    
\tableofcontents
\newpage

%===============================================================================
% Listings
%===============================================================================
\phantomsection
\addcontentsline{toc}{section}{\lstlistlistingname}
\lstlistoflistings

%===============================================================================
% Acronyms
%===============================================================================
\section*{Abkürzungsverzeichnis}
\phantomsection
\addcontentsline{toc}{section}{Abkürzungsverzeichnis}
\begin{acronym}[SOAP]
	\acro{DAO}{Data Access Object}
	\acro{REST}{Representational State Transfer}
	\acro{SOAP}{Simple Object Access Protocol}
	\acro{VCS}{Version Control System (Versionsverwaltung)}
\end{acronym}
\newpage

%===============================================================================
% Parts
%===============================================================================
\input{Parts/Einleitung}
\input{Parts/Idee}
\input{Parts/Kontexterkundung}
\input{Parts/UIUX}
\input{Parts/Vorgehen}
\input{Parts/Ergebnis}
\input{Parts/Architektur}
\input{Parts/Toolchain}
\input{Parts/Qualitaetssicherung}
\input{Parts/Fazit}
\newpage
\renewcommand{\currentAuthor}{kiba}

%===============================================================================
% Bibliography
%===============================================================================
\def\mybibname{Literaturverzeichnis}
\renewcommand\bibname{\mybibname}
\renewcommand\refname{\mybibname}
\nocite *
\bibliographystyle{dinat}
\bibliography{Literature}

\end{document}