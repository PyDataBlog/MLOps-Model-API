\documentclass[14pt,openany]{book}

\include{preamble}

\begin{document}

\begingroup
\hypersetup{linkcolor=black}
\tableofcontents
\endgroup

\clearpage

\part{Занятия}

\chapter{TODO}

Мемоизация --- сохранение результатов вычисления функций, если они вызываются повторно с теми же параметрами.
https://en.wikipedia.org/wiki/Memoization
Может быть использована для реализации рекуррентностей при решении задач методом динамического программирования.

https://habrahabr.ru/post/113108/

http://ejudge.btty.su/bmstu/2007-2008/docs/dp1.pdf

\chapter{Рекуррентные соотношения}

\input{lesson_recurrent}

\section{Задачи}

\input{tasks_recurrent}

\section{Ответы на задачи}

\input{answers_recurrent}

% \chapter{Ещё рекуррентные соотношения}

\chapter{Вычисление рекуррентностей на компьютере}

\input{lesson_recurrent2}

\input{lesson_recurrent3}

\section{Задачи}

\input{tasks02}

\section{Ответы на задачи}

\input{answers02}

\chapter{Динамическое программирование}

\input{lesson_dynamic}

\chapter{Задачи с одним параметром}

\input{lesson_1dimension}

\section{Упражнения}

\input{tasks04}

\chapter{Двумерное динамическое программирование}

\input{lesson_2dimension}

\chapter{Задачи на матрицах}

\input{lesson_matrix}

\chapter{Задачи на подмножествах}

\input{lesson_subsets}

\chapter{Задачи на деревьях}

\chapter{Динамическое программирование по профилю}

%http://ejudge.btty.su/bmstu/2007-2008/docs/dp2.pdf

\chapter{Динамическое программирование и игры с полной информацией}

\input{lesson_games}

\part{Всё подряд}

\chapter{Рекуррентные соотношения}



\section{Число перестановок и факториал}

\section{Числа Стирлинга второго рода}

Числа Стирлинга второго рода --- число разбиений множества из $n$ элементов на $k$
непустых подмножеств. Обозначаются числа Стирлинга второго рода как $\stirling{n}{k}$.
Так, существует семь способор разбиения четырехэлементного множества на две части:
$$
  \{1,2,3\}\cup\{4\}, \quad \{1,2,4\}\cup\{3\}, \quad \{1,3,4\}\cup\{2\}, \quad \{2,3,4\}\cup\{1\},
  \quad \{1,2\}\cup\{3,4\}, \quad \{1,3\}\cup\{2,4\}, \quad \{1,4\}\cup\{2,3\}
$$

Следовательно, $\stirling{4}{2} = 7$.

Существует только один способ помещения $n$ элементов в одно непустое подмножество.
Следовательно, $\stirling{n}{1} = 1$ при любом $n>0$. С другой стороны, $\stirling{0}{1} = 0$,
потому что $0$-элементное множество пусто. $\stirling{0}{0} = 1$, потому что пустое множество
можно разбить на нулевое число подмножеств только одним способом. А $\stirling{n}{0} = 0$ для
$n>0$, потому что элементы множества нужно поместить хотя бы в одну часть.

Чтобы вычислить $\stirling{n}{k}$, можно использовать следующие рассуждения.
Последний объект из заданных $n$ можно поместить в отдельное подмножество. Остальные можно
разбить на множества $\stirling{n-1}{k-1}$ способами. Либо этот объект можно поместить
в одну из $k$ частей, полученных из $n-1$ объектов. Количество разбиений на такие части
будет равняться $\stirling{n-1}{k}$. Для каждого есть $k$ способов размещения последнего
элемента.
Следовательно,

$$\stirling{n}{k} = k\stirling{n-1}{k} + \stirling{n-1}{k-1}, \text{ для $n>0$}$$

\section{Числа Эйлера}

Число Эйлера $\euler{n}{k}$ --- это число перестановок $\pi_1\pi_2\ldots\pi_n$
множества $\{1,2,\ldots,n\}$, имеющих
$k$ участков подъема, а именно, $k$ мест, где $\pi_j<\pi_{j+1}$.

К примеру, одиннадцать перестановок множества $\{1,2,3,4\}$ содержат по
два участка подъема: $$1324, 1423, 2314, 2413, 3412, 1243, 1342, 2341, 2134, 3124, 4123$$.

Найдём рекуррентность для $\euler{n}{k}$. Каждая перестановка $\pi = \pi_1\pi_2\ldots\pi_{n-1}$
множества $\{1,\ldots,n-1\}$ приводит к $n$ перестановкам множества $\{1,\ldots,n\}$,
если вставлять новый элемент во все возможные места. Предположим, мы вставляем $n$ на $j$-е
место, получая $\pi' = \pi_1\ldots\pi_{j-1}n\pi_j\ldots\pi_{n-1}$. Если $j=1$ или если
$\pi_{j-1} < \pi_j$, то число участков подъема в $\pi'$ такое же, как и в $\pi$. Если же
$\pi_{j-1} > \pi_j$ или же $j=n$, то оно на единицу больше числа участков подъёма в $\pi$.
Поэтому в целом перестановка $\pi'$ с $k$ участками подъёма получается $(k+1)\euler{n-1}{k}$
способами из перестановок $\pi$, которые содержат $k$ участков подъёма, плюс
$((n-2)-(k-1)+1)\euler{n-1}{k-1}$ способами из перестановок $\pi$, которые содержат
$k-1$ участков подъёма.

Итак, искомая рекуррентность:
\begin{align*}
\euler{0}{k} &= [k = 0] \\
\euler{n}{k} &= (k+1)\euler{n-1}{k} + (n-k)\euler{n-1}{k-1}, \text{ для $n>0$} \\
\end{align*}



%\section{? Производящие функции}

%\section{? Свертки}

\chapter{Динамическое программирование}

\section{Одномерное динамическое программирование}

\section{Двумерное динамическое программирование}

\chapter{Перебор и динамическое программирование}

\chapter{Упражнения}
\begin{enumerate}

\item Решите рекуррентное соотношение
$$
\begin{array}{ll}
g_0 = 1; \\
g_n = g_{n-1} + 2g_{n-2} + \cdots + ng_0 & n>0
\end{array}
$$

\item Сколько существует способов разместить числа ${1, 2, \ldots , 2n}$ 
в виде массива размера $2 \times n$ так, чтобы и строки и столбцы массива
были упорядочены по возрастанию слева направо и сверху вниз?
Например, для $n=5$ одним из решений будет 
$$\begin{pmatrix}
1 & 2 & 4 & 5 & 8 \\
3 & 6 & 7 & 9 & 10 
\end{pmatrix}$$.

\item Число Бэлла $\varpi_n$ --- число способов разбиения множества из $n$ предметов на подмножества.
      Например, $\varpi_3=5$, поскольку множество $\{1,2,3\}$ можно разбить на такие подмножества:
      $$\{1,2,3\}; \{1,2\}\cup\{3\}; \{1,3\}\cup\{2\}; \{1\}\cup\{2,3\}; \{1\}\cup\{2\}\cup\{3\}; $$
      Найдите выражение для $\varpi_n$.

\item Если $S$ --- некоторое множество целых чисел, то пусть $S+1$ будет <<сдвинутым>>
множеством $\{x+1 \mid x \in S\}$. Сколько подмножеств множества $\{1,2,\ldots,n\}$ обладают
тем свойством, что $S\cup(S+1) = \{1,2,\ldots,n+1\}$.

\end{enumerate}

\section{Ответы}
\begin{enumerate}

\item $G(z)=(z/(1-z)^2)G(z)+1$, следовательно 
$$G(z) = \frac{1-2z+z^2}{1-3z+z^2} = 1 + \frac{z}{1-3z+z^2};$$
поэтому имеем $g_n=F_{2n}+[n=0]$.

\item $C_n$. Числа в верхнем ряду соответствуют позициям плюс единиц в последовательности
из $+1$ и $-1$, определяющей <<горную гряду>>; числа нижнего ряда отвечают позициям
минус единиц. Например, приведенный в упражнении массив соответствует
\begin{verbatim}
    /\     
 /\/  \/\  
/        \ 
\end{verbatim}.

\item $\varpi_n = \sum_k C_n^k\varpi_{n-k}$

\item $F_n$.

\end{enumerate}

\part{Задачи}

\end{document} 
