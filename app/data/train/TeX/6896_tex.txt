\documentclass[oneside, titlepage]{article}
\usepackage[utf8]{inputenc}
\usepackage[brazil]{babel}
\usepackage{graphicx}

\title{PROJETO DE BANCO DE DADOS PARA SISTEMA HOSPITALAR}
\author{Antônio Filho \\ Christian Reis \\ Daniel Carvalho \\ Rodrigo Carvalho }

\date{Banco de Dados \\ Ciência da Computação - UFSJ \\ Setembro de 2017}

\begin{document}

\maketitle

\section{Sobre o banco de dados}
Esse documento descreve o processo de criação de um banco de dados para aplicação em sistemas hospitalares, conforme requisitos descritos no enunciado do trabalho prático. Algumas decisões de projeto foram tomadas para melhorar o funcionamento do Banco de Dados (BD) e aumentar a quantidade de relatórios disponibilizados pela aplicação solicitada. 

A fim de facilitar a compreensão do Diagrama Extendido de Entidade e Relacionamento (DEER) apresentado, algumas entidades foram destacadas com cores diferentes de acordo com sua função:

\begin{itemize}
\item Tipos entidades destacados em \textbf{azul} atendem ao requisito não funcional que limita o acesso à diferentes funcionalidades do sistema de acordo com o tipo de usuário.
\item Tipos entidades destacados em \textbf{verde} representam os tipos entidades que armazenam dados dos empregados cadastrados no banco de dados do Hospital.
\item Tipos entidades destacados em \textbf{vermelho} representam os locais do hospital tratados de forma diferenciada pelo banco de dados.
\item Tipos entidades destacados em \textbf{laranja} representam os tipos entidades que armazenam dados referentes aos pacientes e suas consultas.
\item Tipos entidades destacados em \textbf{roxo} representam os tipos entidades responsáveis por armazenar dados dos estudantes.

\end{itemize}

\section{Detalhes sobre os tipo entidades \\ e decisões de projeto}

Nessa seção, descrevem-se detalhes sobre as entidades, relacionamentos, atributos e decisões de projeto que foram tomadas durante o desenvolvimento do DEER entregue na primeira parte do trabalho proposto.

\subsection{Pessoa}
Esse tipo entidade é uma superclasse para todos os tipos entidades de pessoas do banco de dados. Dessa forma é possível reduzir a redundância de dados nos atributos em comum para todos os tipos entidades que são filhos do tipo entidade Pessoas. No tipo entidade Pessoa definem-se atributos referentes à dados comuns de todas as pessoas, como por exemplo o nome, telefone e o atributo \textbf{Idade} que é derivado do atributo \textbf{Data de Nascimento}.

Observa-se também que o tipo entidade Pessoa

\subsubsection{Usuário}
Um usuário pode acessar o sistema do banco através de \textbf{Login} e \textbf{Senha}. O atributo ``\textbf{Ativo}'' define se um usuário é ou não ativo no sistema. Um estagiário, por exemplo, pode estar inativo durante as férias e por isso não poderá acessar o sistema.

O usuário pode pertencer a várias entidades do tipo \textbf{Grupo de Usuários}, enquanto que um grupo pode conter vários usuários, o que gera uma relação $ M \times N $ para a relação \textbf{Pertence}. Estes grupos, por sua vez, tem uma relação $ M \times N $ em relação à \textbf{Permissão} para acessar as diversas \textbf{Funcionalidades do Sistema}.

\subsubsection{Empregado}
Essa subclasse herda atributos de \textbf{Pessoa}, enquanto que é herdada por outras subclasses. Todos os empregados no hospital também compartilham atributos específicos em comum, como \textbf{Salário}, \textbf{Número de Registro} e \textbf{Tipo de Empregado}. Dentre as subclasses estão os \textbf{Administradores} e \textbf{Profissionais Contradados}, que englobam \textbf{Médicos} e \textbf{Enfermeiros}.

A herança é de predicado, por depender do atributo ``\textbf{tipoEmpregado}''. A herança é definida como \textit{overlap}, pois um empregado pode ser administrador como também um médico ou enfermeiro. Pensando-se a longo prazo, é considerado que um enfermeiro possa também ser um médico em distintos momentos. Para manter a integridade dos dados, impede-se então a exclusão do histórico do enfermeiro.

\begin{itemize}
	\item \textbf{Administradores} são responsáveis por \textbf{Cadastrar} os profissionais contradados do hospital e alocar \textbf{Consultórios} para os médicos. Cada alocação deve ser feita para apenas um médico, e, por isso, o médico é inserido como atributo do relacionamento ``\textbf{Alocar}''.
	\item \textbf{Profissionais Contradados}
	\begin{itemize}
		\item \textbf{Médicos} podem alocar diversos locais para tratamento e um mesmo local pode ser alocado por vários médicos. Uma \textbf{Cirurgia}, por exemplo, pode ser realizada por uma junta médica. Um mesmo \textbf{Leito} pode possuir várias camas e, por isso, comporta mais de um paciente ao mesmo tempo. Também podem alocar \textbf{Enfermeiros}, como descrito abaixo.
		\item \textbf{Enfermeiros} podem ser alocados por \textbf{Médicos} para auxiliar em uma \textbf{Consulta} ou \textbf{Procedimento Cirúrgico}
	\end{itemize}
\end{itemize}

\subsubsection{Estudante}
Estudantes podem \textbf{Apropriar} de \textbf{Horas} que \textbf{Pertencem} ao tipo entidade ``\textbf{Procedimento Relizado}''. Este tipo entidade é uma união dos tipos entidades \textbf{Consulta} e \textbf{Procedimento Cirurgico}, podendo ser relacionado com as horas que são apropriadas pelos estudantes ou com o relacionamento da alocação de auxiliar que há entre o \textbf{Médico} e \textbf{Enfermeiro}.

\subsection{Locais}
O tipo entidade \textbf{Local Cadastrado} representa a união dos locais cadastrados pelo \textbf{Administrador}, pondendo ser um \textbf{Leito}, uma \textbf{Sala de Cirurgia} ou um \textbf{Consultório}. Aqui não há uma relação de herança de atributos.

Já o tipo entidade \textbf{Local Alocado} representa o tratamento que se deu ao seguinte requisito, retirado do documento: \begin{quote}
Médico: esse usuário [...] deve possuir a funcionalidade de alocar alguma sala de cirurgia, leito de quarto para recuperação da cirurgia, ou mesmo um leito de UTI se for necessário.
\end{quote}

Observa-se que o tipo entidade \textbf{Consultório} não faz parte dessa união porque um médico não pode, segundo os requisitos, alocá-lo, sendo esta uma tarefa atribuída apenas aos administradores.

\subsubsection{Demais observações}
Segundo os requisitos, existe mais de um tipo de \textbf{Leito}. Para a implementação, decidiu-se definir o tipo do leito por meio de um atributo.

\subsection{Paciente e Consulta}
\textbf{Pacientes} possuem um \textbf{Plano de Saúde} podem marcar \textbf{Consultas}, que serão futuramente atendidas por um \textbf{Médico} em um \textbf{Consultório}. Estas \textbf{Consultas} possuem, em seus atributos, a verificação de uma possível \textbf{Necessidade de Cirurgia}, \textbf{Data} e \textbf{Prescrições} dadas.


\end{document}