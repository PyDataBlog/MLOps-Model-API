--TB2-057 Master Roshi, Martial Meister
local ds=require "expansions.utility_dbscg"
local scard,sid=ds.GetID()
function scard.initial_effect(c)
	ds.EnableBattleAttribute(c)
	ds.AddSetcode(c,SPECIAL_TRAIT_WORLD_TOURNAMENT,SPECIAL_TRAIT_EARTHLING)
	ds.AddPlayProcedure(c,COLOR_YELLOW,1,0)
	--barrier
	ds.EnableBarrier(c)
	--draw
	ds.AddActivateMainSkill(c,0,DS_LOCATION_BATTLE,scard.drop,scard.drcost,scard.drtg,DS_EFFECT_FLAG_CARD_CHOOSE,nil,1)
end
scard.dragon_ball_super_card=true
scard.combo_cost=0
function scard.posfilter(c)
	return c:IsCode(CARD_MASTER_SHEN_MARTIAL_MEISTER) and c:IsAbleToSwitchToRestAsCost()
end
function scard.drcost(e,tp,eg,ep,ev,re,r,rp,chk)
	if chk==0 then return Duel.IsExistingTarget(ds.BattleAreaFilter(scard.posfilter),tp,DS_LOCATION_BATTLE,0,1,nil) end
	Duel.Hint(HINT_SELECTMSG,tp,DS_HINTMSG_TOREST)
	local g=Duel.SelectTarget(tp,ds.BattleAreaFilter(scard.posfilter),tp,DS_LOCATION_BATTLE,0,1,1,nil)
	Duel.SwitchPosition(g,DS_POS_FACEUP_REST)
	Duel.ClearTargetCard()
end
scard.drtg=ds.DrawTarget(PLAYER_PLAYER,1)
scard.drop=ds.DrawOperation(PLAYER_PLAYER,1)
