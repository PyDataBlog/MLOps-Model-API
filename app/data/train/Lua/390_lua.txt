--TB2-051_SPR Unyielding Victory Son Goku
local ds=require "expansions.utility_dbscg"
local scard,sid=ds.GetID()
function scard.initial_effect(c)
	ds.EnableBattleAttribute(c)
	ds.AddSetcode(c,SPECIAL_TRAIT_SAIYAN,CHARACTER_SON_GOKU_CHILDHOOD,CHARACTER_INCLUDES_SON_GOKU,SPECIAL_TRAIT_WORLD_TOURNAMENT)
	ds.AddPlayProcedure(c,COLOR_YELLOW,2,1)
	--barrier
	ds.EnableBarrier(c)
	--gain skill
	ds.AddActivateMainSkill(c,0,DS_LOCATION_LEADER,scard.skop,scard.skcost,ds.hinttg,DS_EFFECT_FLAG_CARD_CHOOSE,scard.skcon,1)
end
scard.dragon_ball_super_card=true
scard.combo_cost=0
function scard.lfilter(c)
	return c:IsColor(COLOR_YELLOW) or c:IsSpecialTrait(SPECIAL_TRAIT_WORLD_TOURNAMENT)
end
scard.skcon=ds.ldscon(scard.lfilter)
function scard.costfilter(c)
	return c:IsCode(CARD_UNYIELDING_VICTORY_JACKIE_CHUN) and c:IsAbleToSwitchToRestAsCost()
end
function scard.skcost(e,tp,eg,ep,ev,re,r,rp,chk)
	if chk==0 then return Duel.IsExistingTarget(ds.BattleAreaFilter(scard.costfilter),tp,DS_LOCATION_BATTLE,0,1,nil) end
	Duel.Hint(HINT_SELECTMSG,tp,DS_HINTMSG_TOREST)
	local g=Duel.SelectTarget(tp,ds.BattleAreaFilter(scard.costfilter),tp,DS_LOCATION_BATTLE,0,1,1,nil)
	Duel.SwitchPosition(g,DS_POS_FACEUP_REST)
	Duel.ClearTargetCard()
end
function scard.skop(e,tp,eg,ep,ev,re,r,rp)
	local c=e:GetHandler()
	if not c:IsRelateToSkill(e) or c:IsFacedown() then return end
	--power up
	ds.GainSkillUpdatePower(c,c,1,5000)
	--double strike
	ds.GainSkillDoubleStrike(c,c,2)
	--triple attack
	ds.GainSkillTripleAttack(c,c,3)
end
