local ChatNorris = LibStub("AceAddon-3.0"):GetAddon("ChatNorris")
local AltArrowKeyMode = ChatNorris:NewModule("AltArrowKeyMode", "AceEvent-3.0")

function AltArrowKeyMode:OnInitialize()
end

function AltArrowKeyMode:OnEnable()
	self:RegisterMessage("CN-HookChatFrame", function (message, frameName)
		_G[frameName .. "EditBox"]:SetAltArrowKeyMode(not ChatNorrisDB.editboxKeyMode)
	end)

	self:Update()
end

function AltArrowKeyMode:OnDisable()
end

function AltArrowKeyMode:Update()
	for i = 1, NUM_CHAT_WINDOWS do
		_G["ChatFrame" .. i .. "EditBox"]:SetAltArrowKeyMode(not ChatNorrisDB.editboxKeyMode)
	end
end
