_xtend.init()

-- Load modpath for multiple uses
local modpath = _xtend.mods.xfurniture.modpath..DIR_DELIM


-- Load options
_xtend.mods.xfurniture.crafting_addition = {
    id = 'xfurniture:crafting_addition',
    amount = 2,
    recipe = {'default:cobble', 'default:dirt', 'default:dirt'},
    name = _xtend.translate('Crafting Addition for xFurniture objects'),
    image = 'xfurniture_crafting_addition.png'
}
_xtend.mods.xfurniture.replace = {
    -- To be replaced with other default materials
    {'default:cloud', 'default:glass'},
    {'default:coral_brown', 'default:clay_lump'},
    {'default:coral_orange', 'default:apple'}
}
_xtend.mods.xfurniture.blacklist = {
    'contains:chest',
    'contains:dirt_with',
    'contains:furnace',
    'contains:stone_with',
    'contains:trap_%w+',
    'contains:trap_%w+_stone',
    'drawtype:glasslike_framed_optional',
    'drawtype:flowingliquid',
    'drawtype:liquid',
    'drawtype:mesh',
    'drawtype:nodebox',
    'drawtype:plantlike',
    'drawtype:raillike',
    'drawtype:signlike',
    'group:leaves',
    'group:soil',
    'moreores:mineral_mithril',
    'moreores:mineral_silver',
}


-- Prepare functionality
dofile(modpath..'system'..DIR_DELIM..'get_nodes.lua')
dofile(modpath..'system'..DIR_DELIM..'apply_indent.lua')
dofile(modpath..'system'..DIR_DELIM..'register_furniture.lua')


-- Register furniture objects
dofile(modpath..'furniture'..DIR_DELIM..'recipe_patterns.lua')
dofile(modpath..'system'..DIR_DELIM..'get_objects_to_create.lua')
dofile(modpath..'system'..DIR_DELIM..'override_uncraftables.lua')


-- print initinformation if debug messages are enabled
dofile(modpath..'system'..DIR_DELIM..'init_information.lua')


-- Clean up and transfer functions to the xFurniture API
_xtend.clean({
    'nodes',
    'register',
    'apply_indent'
})
