

#ifndef __PMIC_HI6551_H__
#define __PMIC_HI6551_H__

#include <balongv7r2/types.h>
#include <bsp_pmu.h>

/**/
#define PMU_HI6551_POWER_KEY_MASK         (1<<5)   /* Bit 5 for Power key */
#define PMU_HI6551_USB_STATE_MASK            (1<<5)
#define PMU_HI6551_HRESET_STATE_MASK            (1<<1)
#define HI6551_OTMP_125_OFFSET                          0
#define HI6551_OTMP_150_OFFSET                          7
#define HI6551_VSYS_UNDER_2P5_OFFSET                    2
#define HI6551_VSYS_UNDER_2P7_OFFSET                            3
#define HI6551_VSYS_OVER_6P0_OFFSET                             4
#define HI6551_POWER_KEY_4S_PRESS_OFFSET                 5
#define HI6551_POWER_KEY_20MS_RELEASE_OFFSET          6
#define HI6551_POWER_KEY_20MS_PRESS_OFFSET              7

/*º¯ÊýÉùÃ÷*/
/*****************************************************************************
 º¯ Êý Ãû  : pmu_hi6551_init
 ¹¦ÄÜÃèÊö  : pmu hi6551Ä£¿é³õÊ¼»¯
 ÊäÈë²ÎÊý  : ÎÞ
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  : ÎÞ
 µ÷ÓÃº¯Êý  : fastbootÖÐpmuÄ£¿éÊÊÅä²ã
 ±»µ÷º¯Êý  :
*****************************************************************************/
void pmu_hi6551_init(void);
/*****************************************************************************
 º¯ Êý Ãû  : hi6551_power_key_state_get
 ¹¦ÄÜÃèÊö  : »ñÈ¡power¼üÊÇ·ñ°´ÏÂ
 ÊäÈë²ÎÊý  : void
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  : power¼üÊÇ·ñ°´ÏÂ£º1:°´ÏÂ£»0:Î´°´ÏÂ)
 µ÷ÓÃº¯Êý  : fastbootÖÐpmuÄ£¿éÊÊÅä²ã
 ±»µ÷º¯Êý  :
*****************************************************************************/
bool hi6551_power_key_state_get(void);
/*****************************************************************************
 º¯ Êý Ãû  : bsp_hi6551_usb_state_get
 ¹¦ÄÜÃèÊö  : »ñÈ¡usbÊÇ·ñ²å°Î×´Ì¬
 ÊäÈë²ÎÊý  : void
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  : usb²åÈë»ò°Î³ö(1:²åÈë£»0:°Î³ö)
 µ÷ÓÃº¯Êý  : fastbootÖÐpmuÄ£¿éÊÊÅä²ã
 ±»µ÷º¯Êý  :
*****************************************************************************/
bool hi6551_usb_state_get(void);
/*****************************************************************************
 º¯ Êý Ãû  : hi6551_hreset_state_get
 ¹¦ÄÜÃèÊö  : ÅÐ¶ÏpmuÊÇ·ñÎªÈÈÆô¶¯
 ÊäÈë²ÎÊý  : void
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  : pmuÊÇÈÈÆô¶¯»òÀäÆô¶¯(1:ÈÈÆô¶¯£»0:ÀäÆô¶¯)
 µ÷ÓÃº¯Êý  : fastbootÖÐpmuÄ£¿éÊÊÅä²ã
 ±»µ÷º¯Êý  :
*****************************************************************************/
bool hi6551_hreset_state_get(void);
/*****************************************************************************
 º¯ Êý Ãû  : hi6551_hreset_state_clear
 ¹¦ÄÜÃèÊö  : Çå³ýpmuÊÇ·ñÎªÈÈÆô¶¯±êÖ¾
 ÊäÈë²ÎÊý  : void
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  : ÎÞ
 µ÷ÓÃº¯Êý  : fastbootÖÐpmuÄ£¿éÊÊÅä²ã
 ±»µ÷º¯Êý  :
*****************************************************************************/
void hi6551_hreset_state_clear(void);
/*****************************************************************************
 º¯ Êý Ãû  : hi6551_lvs4_switch
 ¹¦ÄÜÃèÊö  : ¿ª¹Ølvs04µçÔ´
 ÊäÈë²ÎÊý  : void
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  :
 µ÷ÓÃº¯Êý  :
 ±»µ÷º¯Êý  : lcdÄ£¿éµ÷ÓÃ
*****************************************************************************/
int hi6551_lvs4_switch(power_switch_e sw);
/*****************************************************************************
 º¯ Êý Ãû  : hi6551_ldo14_switch
 ¹¦ÄÜÃèÊö  : ¿ª¹Øldo14µçÔ´
 ÊäÈë²ÎÊý  : void
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  :
 µ÷ÓÃº¯Êý  :
 ±»µ÷º¯Êý  : lcdÄ£¿éµ÷ÓÃ
*****************************************************************************/
int hi6551_ldo14_switch(power_switch_e sw);
/*****************************************************************************
 º¯ Êý Ãû  : hi6551_ldo14_volt_set
 ¹¦ÄÜÃèÊö  : ÉèÖÃldo14µçÔ´µçÑ¹
 ÊäÈë²ÎÊý  : void
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  :
 µ÷ÓÃº¯Êý  :
 ±»µ÷º¯Êý  : lcdÄ£¿éµ÷ÓÃ
*****************************************************************************/
int hi6551_ldo14_volt_set(int voltage);
/*****************************************************************************
 º¯ Êý Ãû  : hi6551_ldo23_switch
 ¹¦ÄÜÃèÊö  : ¿ª¹Øldo23µçÔ´
 ÊäÈë²ÎÊý  : void
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  :
 µ÷ÓÃº¯Êý  :
 ±»µ÷º¯Êý  : efuseÄ£¿éµ÷ÓÃ
*****************************************************************************/
int hi6551_ldo23_switch(power_switch_e sw);
/*****************************************************************************
 º¯ Êý Ãû  : hi6551_ldo23_volt_set
 ¹¦ÄÜÃèÊö  : ÉèÖÃldo23µçÔ´µçÑ¹
 ÊäÈë²ÎÊý  : void
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  :
 µ÷ÓÃº¯Êý  :
 ±»µ÷º¯Êý  : efuseÄ£¿éµ÷ÓÃ
*****************************************************************************/
int hi6551_ldo23_volt_set(int voltage);
/*****************************************************************************
 º¯ Êý Ãû  : hi6551_version_get
 ¹¦ÄÜÃèÊö  : »ñÈ¡pmuµÄ°æ±¾ºÅ
 ÊäÈë²ÎÊý  : void
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  : pmu°æ±¾ºÅ
 µ÷ÓÃº¯Êý  :
 ±»µ÷º¯Êý  : HSO¼¯³É,MSPµ÷ÓÃ
*****************************************************************************/
u8  hi6551_version_get(void);
int hi6551_get_boot_state(void);
/*****************************************************************************
 º¯ Êý Ãû  : hi6551_set_by_nv
 ¹¦ÄÜÃèÊö  : ¸ù¾ÝnvÏîÉèÖÃ½øÐÐÄ¬ÈÏÉèÖÃ
 ÊäÈë²ÎÊý  : void
 Êä³ö²ÎÊý  : ÎÞ
 ·µ »Ø Öµ  : pmuÄ¬ÈÏÉèÖÃ(Ö÷ÒªÖ¸Óë²úÆ·ÐÎÌ¬Ïà¹ØµÄ)
 µ÷ÓÃº¯Êý  :
 ±»µ÷º¯Êý  :
*****************************************************************************/
void hi6551_set_by_nv(void);
#endif