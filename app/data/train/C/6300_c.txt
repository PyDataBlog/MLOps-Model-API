/*
 * gui.h
 *
 *  Created on: Aug 25, 2015
 *      Author: jasonr
 */

#pragma once
#ifndef SRC_TESTS_APITEST_COMMON_GUI_H_
#define SRC_TESTS_APITEST_COMMON_GUI_H_

#ifdef HAVE_CONFIG_H
# include "config.h"
#endif

#include <memory>
#include <vector>

#include <SDL.h>

#include "context.h"
#include "renderThreadBase.h"

class MainWindow
{
  public:
    MainWindow();
    ~MainWindow();

    void                                render();
    void                                resize(unsigned int width, unsigned int height);
    void                                setRenderThread(std::unique_ptr<RenderThreadBase> renderThread);

  private:
    void                                initialize();

    bool                                m_initialized = false;
    bool                                m_valid = true;

    SDL_Window *                        m_window = nullptr;

    std::unique_ptr<Context>            m_masterContext;
    std::unique_ptr<RenderThreadBase>   m_renderThread;
};

#endif // SRC_TESTS_APITEST_COMMON_GUI_H_
