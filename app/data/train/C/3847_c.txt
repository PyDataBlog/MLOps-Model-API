#ifndef LZH_SOCKET_SERVER
#define LZH_SOCKET_SERVER

#define MAXUDP_GRAM (65536)
#define LISTEN_PORT (5409)

#define PROTO_HTTP (0)
#define PROTO_MQTT (1)
#define PROTO_ENDE (2)

typedef struct tagLoadParams {
    unsigned long maxThread;
    unsigned long maxTimeOut;
    unsigned long protoType;
    unsigned char* loadUri;
} LoadParams;

void closeServer();

LoadParams* parsePacket(unsigned char* pktBuff, int msgLen);

LoadParams* readNextLoad();

void freeLoadParams(void* data);

#endif
