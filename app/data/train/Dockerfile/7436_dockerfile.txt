# Copyright (C) 2015 Siddhanathan Shanmugam
# License: GPLv3 (see LICENSE)
# Maintainer: siddhanathan@gmail.com
#
# Dockerfile for using alpha builds of wkhtmltopdf
#

FROM ubuntu:14.04
MAINTAINER Siddhanathan Shanmugam

RUN apt-get update

RUN apt-get install -y wget

RUN wget https://bitbucket.org/wkhtmltopdf/wkhtmltopdf/downloads/wkhtmltox-0.13.0-alpha-7b36694_linux-trusty-amd64.deb -O wkhtmltopdf.deb

RUN dpkg -i wkhtmltopdf.deb || true

RUN apt-get -fy install

RUN apt-get install -y xvfb

RUN apt-get install -y sudo vim

RUN useradd -m -d /home/wk -s /bin/bash wk
RUN echo "wk ALL=(ALL) NOPASSWD: ALL" > /etc/sudoers.d/wk \
  && chmod 0440 /etc/sudoers.d/wk
ENV HOME /home/wk
WORKDIR /home/wk
USER wk

