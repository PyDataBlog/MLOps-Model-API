FROM fedora:latest
MAINTAINER nathan.trimble@gmail.com

RUN dnf upgrade -y && dnf install -y golang

ENV GOPATH /go
ENV PATH $GOPATH/bin:/usr/local/go/bin:$PATH

RUN mkdir -p "$GOPATH/src" "$GOPATH/bin" && chmod -R 777 "$GOPATH"
WORKDIR $GOPATH

COPY . /go/src/httptime
RUN go install httptime

CMD ["/go/bin/httptime", "-port=8080"]
