$no = New-Object System.Management.Automation.Host.ChoiceDescription "&No", ""
$yes = New-Object System.Management.Automation.Host.ChoiceDescription "&Yes", ""
$choices = [System.Management.Automation.Host.ChoiceDescription[]]($yes, $no)
$caption = "Warning!"
$message = "This will delete EVERYTHING in your Azure subscription. Do you want to proceed?"
$result = $Host.UI.PromptForChoice($caption, $message, $choices, 1)

if($result -eq 0) {
    $groups = Find-AzureRmResourceGroup
    foreach($g in $groups) {
        echo "Deleting group: '$($g.name)' please wait..."
        Remove-AzureRmResourceGroup -Name $g.name -Force
    }
} else {
    echo "Exiting with no changes"
}