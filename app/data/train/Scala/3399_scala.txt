package akka.guice.annotation.test.examples

import akka.actor.ActorRef
import akka.guice.RunnableActorInject
import akka.util.Timeout

import scala.concurrent.Await
import scala.concurrent.duration._

/**
  * An example application entry point with the Guice bootstrap in place.
  */
class ExampleMain extends RunnableActorInject {
  def run() : Unit = {
    import akka.pattern.ask

    implicit val timeout : Timeout = Timeout(1.second)
    val actor : ActorRef = injectTopActor[ActorWithReply]("test")

    Await.result(actor ? "Hello world!", timeout.duration)
  }
}
