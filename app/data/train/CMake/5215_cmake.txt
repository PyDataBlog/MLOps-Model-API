# libslcge.cmake - CMake file configuration for the Snow Leopard Code Generator
#                  and Execution Library

#
# Copyright (C) 2016 Roel Sergeant (rsergeant@panix.com).
#
# This file is part of the Snow Leopard project.
#
# The Snow Leopard project is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3, or (at your option) any later
# version.
#
# The Snow Leopard project is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
# Public License for more details.
#
# You should have received a copy of the GNU General Public License along with
# the Snow Leopard project; see the file COPYING. If not see
# <http://www.gnu.org/licenses/>.
#

project(Snow_Leopard_Code_Generator_and_Execution_Library)

#
# Version information
#
set(SLCGE_MAJOR_VERSION 0)
set(SLCGE_MINOR_VERSION 0)
set(SLCGE_RELEASE 1)
set(SLCGE_BUILD 1)
set(SLCGE_VERSION_LABEL "alpha")
set(SLCGE_RELEASE_DATE "2016-04-03")
set(SLCGE_PROGRAM_NAME "Snow Leopard Code Generator and Execution Library")
set(SLCGE_COPYRIGHT_HOLDERS "Roel Sergeant")
set(SLCGE_COPYRIGHT_YEARS "2016")
set(SLCGE_COPYRIGHT_EMAILS "rsergeant@panix.com")

#
# Object version
#
# Major version and minor version in 32 bits hexadecimal format formatted as
# MMMmmmmf. Some examples:
#       Major = 1; Minor = 2; Production release    -> 0x00010002f
#       Major = 2; Minor = 12; Beta release         -> 0x0002000cb
#       Major = 17; Minor = 0; Alpha release        -> 0x00120000a
#
# Compatibilty is guaranteed with Major versions, with the possibility of adding
# features in Minor versions.
#
# Beta and Alpha release in general offer no guarantees towards compatibility.
#
set(SLCGE_OBJECT_VERSION "0x0000000a")

#
# Configuration file
#
configure_file(
    "${PROJECT_SOURCE_DIR}/include/sl/cge/version.h.in"
    "${PROJECT_SOURCE_DIR}/include/sl/cge/version.h"
)

#
# Configuration files
#
set(CGE_CONFIG_FILES
    include/sl/cge/version.h.in
)

#
# Header files
#
set(CGE_HEADER_FILES
    include/sl/cge/calls.h
    include/sl/cge/debug.h
    include/sl/cge/executor.h
    include/sl/cge/generator.h
    include/sl/cge/info.h
    include/sl/cge/instruction.h
    include/sl/cge/intermediate_types.h
    include/sl/cge/object.h
    include/sl/cge/opcodes.h
    include/sl/cge/registers.h
)

#
# Private header files
#
set(CGE_PRIVATE_HEADER_FILES
    include/sl/cge/version.h
)

#
# Source files
#
set(CGE_SOURCE_FILES
    src/cge/libslcge_information.c
    src/cge/print_libslcge_information.c
    src/cge/executor/execute.c
    src/cge/executor/initialize_executor.c
    src/cge/instruction/instructions.c
)

#
# Private source files
#
set(CGE_PRIVATE_SOURCE_FILES
)

#
# All source files
#
set(CGE_ALL_SOURCE_FILES
    ${CGE_SOURCE_FILES}
    ${CGE_PRIVATE_SOURCE_FILES}
    ${C_CONFIGURATION_FILES}
    ${CGE_HEADER_FILES}
    ${CGE_PRIVATE_HEADER_FILES}
    ${DH_HEADER_FILES}
    ${P_HEADER_FILES}
    ${UTS_HEADER_FILES}
)

#
# Libraries
#
add_library(slcge_shared SHARED ${CGE_ALL_SOURCE_FILES})
set_target_properties(slcge_shared PROPERTIES OUTPUT_NAME "slcge")

add_library(slcge_static STATIC ${CGE_ALL_SOURCE_FILES})
set_target_properties(slcge_static PROPERTIES OUTPUT_NAME "slcge")

#
# Script files
#
set(CGE_SCRIPT_FILES

)

#
# Documentation files
#
set(CGE_DOCUMENTATION_FILES
    docs/libslcge/libslcge_reference.md
    docs/libslcge/libslcge_user_guide.md
)

#
# Set ALL_TARGETS
#
set(ALL_TARGETS ${ALL_TARGETS} slcge_shared slcge_static)

#-<EOF>-

