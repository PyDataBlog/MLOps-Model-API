set (ARDUINO_DIR /home/tunix/.arduino15/packages/arduino/hardware/avr/1.6.18)

macro(instalar_arduino )

include_directories(${ARDUINO_DIR}/variants/standard)
include_directories(${ARDUINO_DIR}/cores/arduino)
include_directories(${ARDUINO_DIR}/libraries/EEPROM/src)
include_directories(${ARDUINO_DIR}/libraries/HID/src)
include_directories(${ARDUINO_DIR}/libraries/SoftwareSerial/src)
include_directories(${ARDUINO_DIR}/libraries/SPI/src)
include_directories(${ARDUINO_DIR}/libraries/Wire/src)
# include_directories(${ARDUINO_DIR}/libraries/SD/src)
# include_directories(${ARDUINO_DIR}/libraries/LiquidCrystal/src)

file(GLOB core-src "${ARDUINO_DIR}/cores/arduino/*.cpp"
  "${ARDUINO_DIR}/cores/arduino/*.c"
  "${ARDUINO_DIR}/cores/arduino/*.S"
  )

file(GLOB eeprom-src "${ARDUINO_DIR}/libraries/EEPROM/src/*.cpp"
  "${ARDUINO_DIR}/libraries/EEPROM/src/*.c"
  "${ARDUINO_DIR}/libraries/EEPROM/src/*.S"
  )

file(GLOB hid-src "${ARDUINO_DIR}/libraries/HID/src/*.cpp"
  "${ARDUINO_DIR}/libraries/HID/src/*.c"
  "${ARDUINO_DIR}/libraries/HID/src/*.S"
  )

file(GLOB soft-serial-src "${ARDUINO_DIR}/libraries/SoftwareSerial/src/*.cpp"
  "${ARDUINO_DIR}/libraries/SoftwareSerial/src/*.c"
  "${ARDUINO_DIR}/libraries/SoftwareSerial/src/*.S"
  )

file(GLOB spi-src "${ARDUINO_DIR}/libraries/SPI/src/*.cpp"
  "${ARDUINO_DIR}/libraries/SPI/src/*.c"
  "${ARDUINO_DIR}/libraries/SPI/src/*.S"
  )

file(GLOB wire-src "${ARDUINO_DIR}/libraries/Wire/src/*.cpp"
  "${ARDUINO_DIR}/libraries/Wire/src/*.c"
  "${ARDUINO_DIR}/libraries/Wire/src/*.S"
  )
file(GLOB wire-utility-src "${ARDUINO_DIR}/libraries/Wire/src/utility/*.cpp"
  "${ARDUINO_DIR}/libraries/Wire/src/utility/*.c"
  "${ARDUINO_DIR}/libraries/Wire/src/utility/*.S"
  )

# file(GLOB sd-utility-src "${ARDUINO_DIR}/libraries/SD/src/utility/*.cpp"
#   "${ARDUINO_DIR}/libraries/SD/src/utility/*.c"
#   "${ARDUINO_DIR}/libraries/SD/src/utility/*.S"
#   )

# file(GLOB sd-src "${ARDUINO_DIR}/libraries/SD/src/*.cpp"
#   "${ARDUINO_DIR}/libraries/SD/src/*.c"
#   "${ARDUINO_DIR}/libraries/SD/src/*.S"
#   )

# file(GLOB lcd-src "${ARDUINO_DIR}/libraries/LiquidCrystal/src/*.cpp")


add_library(arduino_core OBJECT ${core-src} ${eeprom-src} ${hid-src} ${soft-serial-src} ${spi-src} ${wire-src} ${wire-utility-src})
target_include_directories(arduino_core PUBLIC ${ARDUINO_DIR}/libraries/Wire/src/utility)

# add_library(_SD_core OBJECT ${sd-utility-src} ${sd-src})
# target_include_directories(_SD_core PUBLIC ${ARDUINO_DIR}/libraries/SD/src/utility)

# add_library(_LCD_core OBJECT ${lcd-src})

# add_library(arduino $<TARGET_OBJECTS:arduino_core> $<TARGET_OBJECTS:_SD_core>
#   $<TARGET_OBJECTS:_LCD_core>
#   )

add_library(arduino $<TARGET_OBJECTS:arduino_core> )


endmacro(instalar_arduino)
