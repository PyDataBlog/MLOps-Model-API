package services

import (
	"github.com/stretchr/testify/assert"
	"testing"
)

func ReadJsonConfFileServiceTest(t *testing.T) {

	confFilename := "../testdata/fixtures/system.json"
	f, _ := ReadJsonConfFileService(confFilename)

	if len(f.Files) < 1 {
		t.Fatal("no Files found in " + confFilename)
	}

	var actual string = ""
	for i := 0; i < len(f.Files); i++ {
		actual = f.Files[i].Pattern	
		break
	}
	expected := "installed.*"

	assert.Equal(t, expected, actual, "unexpected config pattern")

}
