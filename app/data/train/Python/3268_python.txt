#!/usr/bin/python

import unittest
import ldc
import uuid

class TestLDCDNSInterface(unittest.TestCase):
    def test_ldcdns(self):
        rand_str = str(uuid.uuid4())
        ldc.dns.add(rand_str, '1.1.1.1')
        assert ldc.dns.resolve(rand_str) == [ '1.1.1.1' ]
        ldc.dns.replace_all(rand_str,'2.2.2.2')
        assert ldc.dns.resolve(rand_str) == [ '2.2.2.2' ]
        ldc.dns.delete(rand_str)
        assert ldc.dns.resolve(rand_str) == []

if __name__ == '__main__':
    unittest.main()
