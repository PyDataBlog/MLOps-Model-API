\hypertarget{source_2events_2init_8c}{
\section{/home/doki/agcs/src/source/events/init.c File Reference}
\label{source_2events_2init_8c}\index{/home/doki/agcs/src/source/events/init.c@{/home/doki/agcs/src/source/events/init.c}}
}


\subsection{Detailed Description}
This file holds data source initialization wrapper code. 

\begin{Desc}
\item[Author:]Dorian Ivancic \href{mailto:dorian@linux.hr}{\tt dorian@linux.hr} \end{Desc}
\begin{Desc}
\item[Date:]2005-03-26, 2005-04-06, 2005-07-09\end{Desc}
\begin{Desc}
\item[Warning:]None so far.\end{Desc}
\begin{Desc}
\item[\hyperlink{bug__bug000082}{Bug}]There are no known bugs. \end{Desc}


Definition in file \hyperlink{source_2events_2init_8c-source}{init.c}.

{\tt \#include \char`\"{}init.h\char`\"{}}\par
{\tt \#include \char`\"{}xml.h\char`\"{}}\par
{\tt \#include \char`\"{}error.h\char`\"{}}\par
{\tt \#include \char`\"{}msgs.h\char`\"{}}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
void \hyperlink{source_2events_2init_8c_08cb80b66a57995e569c62dcd96e27de}{init\_\-data\_\-source} (\hyperlink{structstr____ctx}{str\_\-\_\-ctx} $\ast$ctx)
\begin{CompactList}\small\item\em This function is used to initialize data source. \item\end{CompactList}\end{CompactItemize}


\subsection{Function Documentation}
\hypertarget{source_2events_2init_8c_08cb80b66a57995e569c62dcd96e27de}{
\index{source/events/init.c@{source/events/init.c}!init_data_source@{init\_\-data\_\-source}}
\index{init_data_source@{init\_\-data\_\-source}!source/events/init.c@{source/events/init.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void init\_\-data\_\-source ({\bf str\_\-\_\-ctx}		$\ast$ {\em ctx})}}
\label{source_2events_2init_8c_08cb80b66a57995e569c62dcd96e27de}


This function is used to initialize data source. 

Depending of data source format given on the command line it will call the appropriate initialization functions.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\leftarrow$} {\em ctx}]Simulator context with command line params.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Nothing.\end{Desc}
\begin{Desc}
\item[See also:]\hyperlink{structstr____ctx}{str\_\-\_\-ctx}\end{Desc}
\begin{Desc}
\item[Author:]Dorian Ivancic \href{mailto:dorian@linux.hr}{\tt dorian@linux.hr} \end{Desc}
\begin{Desc}
\item[Date:]2005-03-26, 2005-04-06 \end{Desc}


Definition at line 55 of file init.c.

\begin{Code}\begin{verbatim}57 {
58     switch (ctx->input_format)
59     {
60         /* xml format */
61         case IN_FMT__XML:
62             switch (init_xml_data_source (ctx->input_filename, ctx))
63             {
64                 case (RET__INIT_XML_DATA_SOURCE__PARSE_SUCCESS):
65                     return;
66 
67                 case (RET__INIT_XML_DATA_SOURCE__PARSE_ERROR):
68                     fatal (MSG__INIT__INIT_DATA_SOURCE__PARSE_ERROR
69                         , EXIT_CODE__INIT__INIT_DATA_SOURCE__PARSE_ERROR
70                         , ctx);
71                     break;
72 
73                 case (RET__INIT_XML_DATA_SOURCE__ERROR_READING_FILE):
74                     fatal (MSG__INIT__INIT_DATA_SOURCE__ERROR_READING_FILE
75                         , EXIT_CODE__INIT__INIT_DATA_SOURCE__ERROR_READING_FILE
76                         , ctx);
77                     break;
78 
79                 case (RET__INIT_XML_DATA_SOURCE__INVALID_DOCUMENT_TYPE):
80                     fatal (MSG__INIT__INIT_DATA_SOURCE__INVALID_DOCUMENT_TYPE
81                         , EXIT_CODE__INIT__INIT_DATA_SOURCE__INVALID_DOCUMENT_TYPE
82                         , ctx);
83                     break;
84 
85                 /* we should never get here! */
86                 default:
87                     fatal (MSG__INIT__INIT_DATA_SOURCE__INTERNAL_ERROR
88                         , EXIT_CODE__INIT__INIT_DATA_SOURCE__INTERNAL_ERROR
89                         , ctx);
90                     break;
91             }
92             break;
93 
94         /* binary format */
95         case IN_FMT__BIN:
96             fatal (MSG__INIT__INIT_DATA_SOURCE__FORMAT_NOT_IMPLEMENTED
97                 , EXIT_CODE__INIT__INIT_DATA_SOURCE__FORMAT_NOT_IMPLEMENTED
98                 , ctx);
99             break;
100 
101         /* this condition was dealt with in check_ctx function! */
102         default:
103             fatal (MSG__INIT__INIT_DATA_SOURCE__INTERNAL_ERROR
104                 , EXIT_CODE__INIT__INIT_DATA_SOURCE__INTERNAL_ERROR
105                 , ctx);
106             break;
107     }
108 }
\end{verbatim}
\end{Code}


