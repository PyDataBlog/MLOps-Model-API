% !TEX encoding = IsoLatin9

%%%%%%%%%%%%%%%%%%%%% SECTION 1
\section{Opérateurs}
\begin{frame}
  \begin{columns}
    \column{4.8cm}
    \tableofcontents[currentsection,hideothersubsections]
    \column{7cm}
    
  \end{columns}
  
\end{frame}

\begin{frame}[fragile]
\frametitle{Rappel : l'opérateur d'affectaction}
\begin{block}{}
L'opérateur d'affectation est le signe \bvrb|=|
\end{block}
\begin{columns}
\column{0.45\textwidth}
\begin{codeblock}{}
\lstset{escapeinside={§§}}
\begin{codeC}
a = 1 ;  §\tikz[remember picture,baseline = -.5ex]\coordinate(a1);§
x = 2 * 3 + 5 ; §\tikz[remember picture,baseline = -.5ex]\coordinate(x);§
a = a + x ; §\tikz[remember picture,baseline = -.5ex]\coordinate(a2);§
\end{codeC}
\end{codeblock}
\column{0.45\textwidth}
\tikz[remember picture,baseline = -.5ex]\coordinate(la1);
\verb|a| reçoit la valeur 1  ;

\tikz[remember picture,baseline = -.5ex]\coordinate(lx);
\verb|x| reçoit la valeur 11 ;

\tikz[remember picture,baseline = -.5ex]\coordinate(la2);
\verb|a| reçoit la valeur 12  ;

\end{columns}
\begin{tikzpicture}[remember picture,overlay]
\draw (la1) edge[->, gray,thick] (a1);
\draw (lx) edge[->, gray,thick] (x);
\draw (la2) edge[->, gray,thick] (a2);
\end{tikzpicture}

\end{frame}

\begin{frame}[fragile]
\frametitle{Les opérateurs arithmétiques}
\begin{block}{}
Les expressions arithmétiques sont évaluées de 
la gauche vers la droite en prenant compte de 
la préséance (priorité des opérateurs)
\end{block}
\begin {columns}
\column{.4\textwidth}
\begin{table}
\centering
\begin{tabular}{|r|p{3cm}|}
\hline
\bvrb|*| & multiplication \\
\hline
\bvrb|/| & division  \\
\hline
\bvrb|+| & addition \\
\hline
\bvrb|-| & soustraction \\
\hline
\bvrb|%| & reste de la division entière (modulo) \\
\hline
\end{tabular}
\end{table}
\column{0.55\textwidth}
\begin{codeblock}{}
\lstset{escapeinside={§§}}
\begin{codeC}
a+b*c //  a + (b*c)
-c%d //  (-c)%d
a*b + c%d // (a*b)+(c%d)
-a/-b+c //  ((-a)/(-b))+c
a/b/c //  (a/b)/c
\end{codeC}
\end{codeblock}

\end{columns}
\end{frame}

\begin{frame}[fragile]
\frametitle{Les opérateurs de comparaison}
\begin{block}{}
Ils permettent de comparer entre elles des expressions ou des variables
\end{block}
\begin{columns}
\column{.55\textwidth}
\begin{table}
\centering
\begin{tabular}{|c|p{4cm}|}
\hline
\bvrb|>| &  strictement supérieur à\\
\hline
\bvrb|>=| &   supérieur ou égal à\\
\hline
\bvrb|<| &  strictement inférieur à\\
\hline
\bvrb|<=| &  inférieur ou égal à\\
\hline
\bvrb|==| &  égal à\\
\hline
\bvrb|!=| &  différent de\\
\hline
\end{tabular}
\end{table}

\column{.43\textwidth}
\begin{codeblock}{}
\lstset{escapeinside={§§}}
\begin{codeC}
x = 5 ;
y = 4 ;
x > y ; //=1 (vrai)
x == y ; //=0 (faux)
\end{codeC}
\end{codeblock}
\end{columns}

\begin{block}{}
Le résultat de la comparaison est un entier de valeur:
\begin{itemize}
\item \bvrb|non nulle| si la comparaison est \red{vraie}.\\
\item \bvrb|0| si la comparaison est \red{fausse}.\\
\end{itemize}
\end{block}

\end{frame}

\begin{frame}[fragile]
\frametitle{Les opérateurs logiques}
\begin{block}{}
Ils effectuent des opérations logiques (et, ou, ...) entre
expressions ou variables.
\end{block}
\begin{columns}
\column{0.4\textwidth}
\begin{table}
\centering
\begin{tabular}{|c|p{3cm}|}
\hline
\bvrb|&&| & \textbf{et} logique \\
\hline
\bvrb!||! & \textbf{ou} logique \\
\hline
\bvrb|!| & \textbf{non} logique \\
\hline
\end{tabular}
\end{table}
\column{.55\textwidth}
\begin{table}
\centering
\begin{tabular}{|c|c|c|}
\hline
\verb|x| & 0 (faux) & $\neq$ 0 (vrai) \\
\hline
\verb|!x| & $\neq$ 0 (vrai) & 0 (faux) \\
\hline
\end{tabular}


\end{table}
\end{columns}

%\begin{columns}
%\column{.48\textwidth}
\begin{table}
\centering
\begin{tabular}{|c|c|c|c|}
\hline
\bvrb|x| & \bvrb|y| & \bvrb|(x && y)| & \bvrb!(x || y)!\\
\hline
0 (faux) & 0 (faux) & 0 (faux) & 0 (faux) \\
\hline
0 (faux) & $\neq$ 0 (vrai) & 0 (faux) & $\neq$ 0 (vrai)\\
\hline
$\neq$ 0 (vrai) & 0 (faux)  & 0 (faux) & $\neq$ 0 (vrai)\\
\hline
$\neq$ 0 (vrai) & $\neq$ 0 (vrai) & $\neq$ 0 (vrai) & $\neq$ 0 (vrai) \\
\hline
\end{tabular}
\end{table}
%\end{columns}
\end{frame}


\begin{frame}[fragile]
\frametitle{Traitement de bits}
\begin{block}{}
\begin{itemize}
\item Ils permettent des manipulations au niveau des bits
dans la représentation binaire des nombres\\
\item On ne peut les appliquer que sur des opérandes entiers
(\bvrb|short|, \bvrb|int|, \bvrb|long|), signé ou non.\\
\end{itemize}
\end{block}
\begin{columns}
\column{.43\textwidth}
\begin{table}
\centering
\begin{tabular}{|c|p{4cm}|}
\hline
\bvrb|&| &  ET bit à bit\\
\hline
\bvrb!|! &   OU inclusif bit à bit\\
\hline
\bvrb|^| &  OU exclusif bit à bit\\
\hline
\bvrb|<<| &  décalage à gauche\\
\hline
\bvrb|>>| &  décalage à droite\\
\hline
\bvrb|~| &  complément à un\\
\hline
\end{tabular}
\end{table}

\column{.55\textwidth}
\begin{codeblock}{}
\lstset{escapeinside={§§}}
\begin{codeC}
int a = 5;// a=0101(binaire)
int b = 12;//b=1100(binaire)
int c ;
c = a & b ; // c = ...
c = a | b ; // c = ...
c = a ^ b ; // c = ...
c = a << 1 ; // c = ...
c = b >> 1 ; // c = ...
c = ~b ; // c = -13 
\end{codeC}
\end{codeblock}

\end{columns}
\end{frame}


\begin{frame}[fragile]
\frametitle{Incrémentation/Décrémentation}
\begin{block}{}
Incrémenter(\bvrb|++|) ou décrémenter (\bvrb|--|) de 1 une variable.
\end{block}
\begin{codeblock}{}
\lstset{escapeinside={§§}}
\begin{codeC}
x++ ; // x = x+1
--y ; // y = y-1
\end{codeC}
\end{codeblock}

\begin{itemize}
\item Si l'opérateur est placé avant la variable (préfixé), celle-ci est incrémentée (ou décrémentée) avant son utilisation.\\
\item Si l'opérateur est placé après la variable (postfixé), cell-ci est incrémentée (ou décrémentée) après son utilisation.\\
\end{itemize}
\begin{columns}

\column{0.48\textwidth}
\begin{codeblock}{}
\lstset{escapeinside={§§}}
\begin{codeC}
a = 2 ;
b = a++ ;// b=2, a=3
\end{codeC}
\end{codeblock}

\column{0.48\textwidth}
\begin{codeblock}{}
\lstset{escapeinside={§§}}
\begin{codeC}
a = 2 ;
b = ++a ;// a=3, b=3
\end{codeC}
\end{codeblock}

\end{columns}
\begin{alertblock}{}
Utilisez l'opérateur seul pour éviter les erreurs.
\end{alertblock}

\end{frame}

\begin{frame}[fragile]
\frametitle{Opérateurs d'affectation élargie}
\begin{block}{}
Ils permettent d'alléger l'écriture des opérations de mise à jour de variable.
\end{block}
\begin{codeblock}{}
\lstset{escapeinside={§§}}
\begin{codeC}
x += b ; // x = x + b
x -= b ; // x = x - b
x /= b ; // x = x / b
x *= b ; // x = x * b
x %= b ; // x = x % b
x |= b ; // x = x | b
x &= b ; // x = x & b
x <<= b ; // x = x << b
x >>= b ; // x = x >> b
\end{codeC}
\end{codeblock}
\begin{alertblock}{}
Attention de ne pas confondre avec l'opérateur de comparaison
\bvrb|<=|.
\end{alertblock}
\end{frame}

\begin{frame}[fragile]
\frametitle{L'opérateur conditionnel}
\centering 
\bvrb|£textitµexpr1§ ? £textitµexpr2§  : £textitµexpr3§ |
\begin{block}{}
Cet opérateur (ternaire) permet d'agir en fonction du résultat
d'évaluation d'une expression.
\end{block}
On évalue \bvrb|£textitµexpr1§| :
\begin{itemize}
\item Si elle est vraie (donc non nulle), on évalue \bvrb|£textitµexpr2§|\\
\item Sinon, on évalue \bvrb|£textitµexpr3§|
\end{itemize}

\begin{codeblock}{}
\lstset{escapeinside={§§}}
\begin{codeC}
int x = 5, y = 4, z ;
z = (x>y) ? x : y ;
\end{codeC}
\end{codeblock}
Si \verb|x>y|, \verb|z| prend la valeur de \verb|x|, 
sinon celle de \verb|y|. 
\end{frame}

\begin{frame}[fragile]
\frametitle{Récapitulatif : les opérateurs du C}
\begin{columns}
\column{0.65\textwidth}
\begin{table}
\centering
\begin{tabular}{|r|l|}
\hline
Unaires & \bvrb|() [] -> .| \\
\hline
Unaires & \bvrb|! + - ++ -- * & sizeof()| \\
\hline
Arithmétiques & \bvrb|* / %| \\
\hline
Décalages & \bvrb|<< >>| \\
\hline
Comparaison & \bvrb|< <= > >=| \\
\hline
Egalités & \bvrb|== !=|\\
\hline
Manip. bits & \bvrb|&| \\
\hline
Manip. bits & \bvrb|^| \\
\hline
Manip. bits & \bvrb!|! \\
\hline
Logiques & \bvrb|&&| \\
\hline
Logiques & \bvrb!||! \\
\hline
Conditionnel & \bvrb|? :|\\
\hline
Affectations & \bvrb!= += *= ^= %= &= |= <<= >>=! \\
\hline
\end{tabular}
\end{table}
\column{0.33\textwidth}
\begin{itemize}
\item Les opérateurs sur une même ligne ont même priorité.\\
\item Les lignes sont classées dans l'ordre décroissant de priorité.\\
\end{itemize}
\end{columns}
\end{frame}

