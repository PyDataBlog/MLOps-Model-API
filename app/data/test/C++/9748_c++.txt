#include <cas_cci.h>
#include "gtest/gtest.h"

TEST(CCI_Get_Holdability, Basic) {
  int conn_handle;
  int port = 33700;
  char *ip = "127.0.0.1";
  char *db_name = "demodb";
  char *db_user = "dba";
  char *url = "cci:CUBRID:127.0.0.1:33700:demodb:dba::";
  T_CCI_ERROR err_buf;
  int hold;

  conn_handle = cci_connect (ip, port, db_name, db_user, "");
  EXPECT_LE(0, conn_handle);

  hold = cci_get_holdability (conn_handle);

  if (hold == 0 || hold == 1)
  {
    EXPECT_TRUE(1);
  }
  else
  {
    EXPECT_TRUE(0);
  }
}

