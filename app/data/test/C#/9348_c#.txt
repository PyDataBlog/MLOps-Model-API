using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace WorkingWithTypes
{
    class ADONet
    {
        //int count = 0;
        //    string ConnectionString = ConfigurationManager.ConnectionStrings["LoggingConnection"].ConnectionString;
        //    using (SqlConnection conn = new SqlConnection(ConnectionString))
        //    {
        //        //conn.Open();
        //        SqlCommand cmd = new SqlCommand(ConfigurationManager.AppSettings["Logging_StoredProcName"], conn);
        //        cmd.CommandType = CommandType.StoredProcedure;
        //        cmd.Parameters.Add(new SqlParameter { ParameterName = "@FromDateTime", DbType = System.Data.DbType.DateTime });
        //        cmd.Parameters["@FromDateTime"].Value = logQuery.FromDateTime;
        //        cmd.Parameters.Add(new SqlParameter { ParameterName = "@ToDateTime", DbType = System.Data.DbType.DateTime });
        //        cmd.Parameters["@ToDateTime"].Value = logQuery.ToDateTime;
        //        cmd.Parameters.Add(new SqlParameter { ParameterName = "@PageNumber", DbType = System.Data.DbType.Int32 });
        //        cmd.Parameters["@PageNumber"].Value = logQuery.PageNumber;
        //        cmd.Parameters.Add(new SqlParameter { ParameterName = "@PageSize", DbType = System.Data.DbType.Int32 });
        //        cmd.Parameters["@PageSize"].Value = logQuery.PageSize;

        //        SqlDataAdapter da = new SqlDataAdapter(cmd);

        //        DataSet ds = new DataSet("Logs");
        //        count = da.Fill(ds);


        //        SqlCommand update = new SqlCommand("UPDATE [MSIPortal].[dbo].[Log] SET EventID = @EventID WHERE LogID= @LogID", conn);
        //        update.CommandType = CommandType.Text;

        //        update.Parameters.Add(new SqlParameter{ ParameterName = "@EventID", DbType = DbType.Int32, SourceColumn = "EventID", Value = 1});
                
        //        update.Parameters.Add(new SqlParameter { ParameterName = "@LogID", DbType = DbType.Int32, SourceColumn = "LogID", Value = 1 });

        //        da.UpdateCommand = update;

        //        //DataRow updateRow = ds.Tables[0].Rows[0];
        //        //updateRow["EventID"] = 0;

                
        //        var y = da.Update(ds);



        //        foreach (DataRow row in ds.Tables[0].Rows)
        //        {
        //            var x = row;
        //        }

        //        //SqlDataReader dr = cmd.ExecuteReader();
        //        //if (dr.HasRows)
        //        //{   
        //        //    while (dr.Read())
        //        //    {
        //        //        count++;
        //        //    }
        //        //}
        //        //dr.Close();
        //    }
        //    Console.ReadLine();
    }
}
