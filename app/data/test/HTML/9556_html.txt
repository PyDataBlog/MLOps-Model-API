<div class="its container">

  <its-breadcrumb breadcrumbs="home" active="Contact"></its-breadcrumb>

  <div class="row">
    <div class="col-lg-8 map-container">
      <iframe width="100%" height="400px" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" allowfullscreen src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2955.041765749127!2d-88.25407838441073!3d42.21355197919702!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880f0caf5b80b131%3A0x9f38d11319c5f727!2s500+Cary+Algonquin+Rd%2C+Cary%2C+IL+60013!5e0!3m2!1sen!2sus!4v1489723440333"></iframe>
    </div>
    <div class="col-lg-4">
      <h3>{{ 'contact.details' | translate }}</h3>
      <p>
        {{ (dataService.observableDataMap.get('contact') | async)?.address }}
        <br>{{ (dataService.observableDataMap.get('contact') | async)?.city }}, {{ (dataService.observableDataMap.get('contact') | async)?.state }} {{ (dataService.observableDataMap.get('contact') | async)?.zip }}
        <br>
      </p>
      <p [innerHTML]="(dataService.observableDataMap.get('contact') | async)?.phone"></p>
      <p [innerHTML]="(dataService.observableDataMap.get('contact') | async)?.email"></p>
      <p [innerHTML]="(dataService.observableDataMap.get('contact') | async)?.hours"></p>
    </div>
  </div>

  <hr/>

  <div class="alert alert-success alert-dismissible" role="alert" *ngIf="notification === 'welcome'">
    {{ 'contact.notification.welcome' | translate }}
  </div>
  <div class="alert alert-success alert-dismissible" role="alert" *ngIf="notification === 'success'">
     <p [innerHTML]="'contact.notification.success' | translate"></p>
  </div>
  <div class="alert alert-danger alert-dismissible" role="alert" *ngIf="notification === 'error'">
     <p [innerHTML]="'contact.notification.error' | translate"></p>
  </div>

  <div id="message" class="row">
    <div class="col-lg-8">
      <h3>{{ 'contact.message' | translate }}</h3>
      <form id="contactForm" name="sendMessage" [formGroup]="form" (ngSubmit)="submitForm(form.value)" novalidate>
        <div class="control-group form-group" [ngClass]="{ 'has-success': form.controls['name'].valid, 'has-danger': !form.controls['name'].valid && form.controls['name'].touched }">
          <div class="controls">
            <label>{{ 'contact.form.name.label' | translate }}</label>
            <input type="text" class="form-control" id="name" name="name" [formControl]="form.controls['name']" [ngClass]="{ 'form-control-success': form.controls['name'].valid, 'form-control-danger': !form.controls['name'].valid }">
            <small class="form-text text-muted">{{ 'contact.form.name.help' | translate }}</small>
            <div class="form-control-feedback" *ngIf="form.controls['name'].hasError('required') && form.controls['name'].touched">{{ 'contact.form.name.validation.required' | translate }}</div>
            <div class="form-control-feedback" *ngIf="form.controls['name'].hasError('minlength') && form.controls['name'].touched">{{ 'contact.form.name.validation.minLength' | translate }}</div>
            <div class="form-control-feedback" *ngIf="form.controls['name'].hasError('maxlength') && form.controls['name'].touched">{{ 'contact.form.name.validation.maxLength' | translate }}</div>
          </div>
        </div>
        <div class="control-group form-group" [ngClass]="{ 'has-success': form.controls['phone'].valid, 'has-danger': !form.controls['phone'].valid && form.controls['phone'].touched }">
          <div class="controls">
            <label>{{ 'contact.form.phone.label' | translate }}</label>
            <input type="tel" class="form-control" id="phone" name="phone" [formControl]="form.controls['phone']" [ngClass]="{ 'form-control-success': form.controls['phone'].valid, 'form-control-danger': !form.controls['phone'].valid }">
            <div class="form-control-feedback" *ngIf="form.controls['phone'].hasError('required') && form.controls['phone'].touched">{{ 'contact.form.phone.validation.required' | translate }}</div>
            <div class="form-control-feedback" *ngIf="form.controls['phone'].hasError('pattern') && form.controls['phone'].touched">{{ 'contact.form.phone.validation.pattern' | translate }}</div>
          </div>
        </div>
        <div class="control-group form-group" [ngClass]="{ 'has-success': form.controls['email'].valid, 'has-danger': !form.controls['email'].valid && form.controls['email'].touched }">
          <div class="controls">
            <label>{{ 'contact.form.email.label' | translate }}</label>
            <input type="email" class="form-control" id="email" name="email" [formControl]="form.controls['email']" [ngClass]="{ 'form-control-success': form.controls['email'].valid, 'form-control-danger': !form.controls['email'].valid }">
            <div class="form-control-feedback" *ngIf="form.controls['email'].hasError('required') && form.controls['email'].touched">{{ 'contact.form.email.validation.required' | translate }}</div>
            <div class="form-control-feedback" *ngIf="form.controls['email'].hasError('pattern') && form.controls['email'].touched">{{ 'contact.form.email.validation.pattern' | translate }}</div>
          </div>
        </div>
        <div class="control-group form-group" [ngClass]="{ 'has-success': form.controls['message'].valid, 'has-danger': !form.controls['message'].valid && form.controls['message'].touched }">
          <div class="controls">
            <label>{{ 'contact.form.message.label' | translate }}</label>
            <textarea rows="10" cols="100" class="its form-control" id="message" name="message" [formControl]="form.controls['message']" [ngClass]="{ 'form-control-success': form.controls['message'].valid, 'form-control-danger': !form.controls['message'].valid }" maxlength="999"></textarea>
            <small class="form-text text-muted">{{ 'contact.form.message.help' | translate }}</small>
            <div class="form-control-feedback" *ngIf="form.controls['message'].hasError('required') && form.controls['message'].touched">{{ 'contact.form.message.validation.required' | translate }}</div>
            <div class="form-control-feedback" *ngIf="form.controls['message'].hasError('minlength') && form.controls['message'].touched">{{ 'contact.form.message.validation.minLength' | translate }}</div>
            <div class="form-control-feedback" *ngIf="form.controls['message'].hasError('maxlength') && form.controls['message'].touched">{{ 'contact.form.message.validation.maxLength' | translate }}</div>
          </div>
        </div>
        <div id="success"></div>
        <button type="submit" class="btn btn-primary pull-right" [disabled]="!form.valid">{{ 'contact.form.submit' | translate }}</button>
      </form>
    </div>

  </div>

</div>
