<div id="slideWrap1" class="slide_wrap">
    <button type="button" class="btn_prev">prev</button>
    <button type="button" class="btn_next">next</button>
    <ul class="slide_list">
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
    </ul>
</div>
<div id="slideWrap2" class="slide_wrap">
    <button type="button" class="btn_prev">prev</button>
    <button type="button" class="btn_next">next</button>
    <ul class="slide_list">
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
        <li>5</li>
        <li>6</li>
        <li>7</li>
    </ul>
</div>
<script>
    window.onload = function(){

        (function($) {

            // doonam jquerySlider version 0.1
            //     $(selector).jquerySlider({
            //         currentNum:1     start view number
            //     });

            var plugin_name = "jquerySlider";
            $.fn[plugin_name] = function(options) {

                var $element = $(this);
                var defaults = {
                    currentNum:0
                };
                var opts = $.extend({}, $.fn[plugin_name].defaults, options);
                var list = $element.children(".slide_list").find("li");
                var listLen = list.length;
                var listWidth = Math.round($element.children(".slide_list").width());

                var consTructors = {
                    init : function() {
                        $btnNext = $element.children(".btn_next");
                        $btnPrev = $element.children(".btn_prev");
                        consTructors.sliderSet();
                        consTructors.btnControler();
                    },
                    btnControler : function() {
                        $btnNext.on("click", function(e){
                            e.preventDefault();
                            consTructors.sliderAction("next");
                        });
                        $btnPrev.on("click", function(e){
                            e.preventDefault();
                            consTructors.sliderAction("prev");
                        });
                    },
                    sliderSet : function(){
                        for ( var i=0 ; i<listLen ; i++){
                            $(list[i]).css({left:listWidth*(i-opts.currentNum)});
                        }
                    },
                    sliderAction : function(strChk){
                        if (strChk=="next"){
                            if (opts.currentNum != listLen-1){
                                opts.currentNum = opts.currentNum+1;
                                consTructors.slideContents();
                            }
                        }else if (strChk=="prev"){
                            if(opts.currentNum != 0){
                                opts.currentNum = opts.currentNum-1;
                                consTructors.slideContents();
                            }
                        }
                    },
                    slideContents : function (){
                        for ( var i=0 ; i<listLen ; i++){
                            $(list[i]).stop().animate({left:listWidth*(i-opts.currentNum)});
                        }
                    }
                }
                consTructors.init();
            }

        })(jQuery);

        $("#slideWrap1").jquerySlider({
            currentNum:0
        });
        $("#slideWrap2").jquerySlider({
            currentNum:2
        });

        /*(function(global, $) {
            var plugin_name = "jquerySlider";
            var $element, opts, $btnNext, $btnPrev;
            var consTructors = {
                init : function() {
                    $btnNext = $element.children(".btn_next");
                    $btnPrev = $element.children(".btn_prev");
                    consTructors.sliderSet();
                    consTructors.btnControler(opts);
                },
                btnControler : function(opts) {
                    $btnNext.on("click", function(e){
                        e.preventDefault();
                        console.log(opts.currentNum)
                    });
                },
                sliderSet : function(){
                    var list = $element.children(".slide_list").find("li");
                    var listLen = list.length;
                    var listWidth = Math.round(list.width());
                    for ( var i=0 ; i<listLen ; i++){
                        $(list[i]).css({left:listWidth*(i-opts.currentNum)});
                        console.log(listWidth*(i-opts.currentNum))
                    }
                },
                sliderAction : function(){

                }
            }

            $.fn[plugin_name] = function(options) {
                var $this = this;
                return $.each($this, function(index, el){
                    opts = $.extend({}, $.fn[plugin_name].defaults, options);
                    $element = $this.eq(index);
                    consTructors.init();
                });
            };

            $.fn[plugin_name].defaults = {
                currentNum:0
            };

        })(window, window.jQuery);

        $("#slideWrap1").jquerySlider({
            currentNum:4
        });

        $("#slideWrap2").jquerySlider({
            currentNum:1
        });*/
    };
</script>
