<?php

namespace BlobbyBob\Internal;


class QueryStringBuilder
{

    private $querystring;

    public function __construct() {
        $this->querystring = "";
    }

    public function append($arrayOrKey, string $value = null): void
    {

        if (is_array($arrayOrKey)) {
            $qs = http_build_query((array) $arrayOrKey);
        } else {
            $qs = http_build_query([(string) $arrayOrKey => $value]);
        }

        if (strlen($this->querystring) != 0 && strlen($qs) != 0) $this->querystring .= "&";
        $this->querystring .= $qs;

    }

    /**
     * Get querystring
     *
     * @return string
     */
    public function getQuerystring(): string
    {
        return $this->querystring;//(strlen($this->querystring)>0) ? substr($this->querystring, 0, -1) : "";
    }

    /**
     * Get querystring
     *
     * @return string
     */
    public function __toString()
    {
        return $this->getQuerystring();
    }

}