/**
 * Created by IvanIsrael on 06/04/2017.
 */
'use strict';

const express = require('express');
const router = express.Router();
const user_controller = require("../controllers/users");
const methods = user_controller.methods;
const controllers = user_controller.controllers;
const passport = require('passport');
/* GET users listing. */

router.post('/', passport.authenticate('local', {
    successRedirect: '/',
    failureRedirect: '../users',
    failureFlash: true
}));

router.get('/logout', function(req, res, next){
    try {
        req.logOut();
        console.log("Cerrando sesion...");
        res.redirect('../users');
    }
    catch (e) {
        console.log(e);
        res.redirect('../users');
    }

});
module.exports = router;
