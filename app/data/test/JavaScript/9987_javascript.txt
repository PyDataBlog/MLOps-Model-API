// Avoid `console` errors in browsers that lack a console.
(function() {
    var method;
    var noop = function () {};
    var methods = [
        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
        'timeStamp', 'trace', 'warn'
    ];
    var length = methods.length;
    var console = (window.console = window.console || {});

    while (length--) {
        method = methods[length];

        // Only stub undefined methods.
        if (!console[method]) {
            console[method] = noop;
        }
    }
}());

// Place any jQuery/helper plugins in here.

$(function(){

    //Code for menu collapse button
    $('#search_btn').click(function(event){
        event.preventDefault();
        $('#search_bar').submit();
    });


    //Code for menu collapse button
    $('.collapse-button').click(function(event){
        event.preventDefault();
        $('.nav-bar').toggleClass('show');
    });


    //slider functions and operations
    var slideCount = $('#slider ul li').length; //count the number of slides in the slider
    var sliderVisorWidth = $('#slider').width();
    var sliderUlWidth = slideCount * sliderVisorWidth; //total sliders list width.

    $('#slider ul li').css({ width: sliderVisorWidth});
    $('#slider ul').css({ width: sliderUlWidth, marginLeft: - sliderVisorWidth }); 
    $('#slider ul li:last-child').prependTo('#slider ul');



    function moveLeft() {
        $('#slider ul').animate({
            left: + sliderVisorWidth
        }, 200, function () {
            $('#slider ul li:last-child').prependTo('#slider ul');
            $('#slider ul').css('left', '');
        });
    };

    function moveRight() {
        $('#slider ul').animate({
            left: - sliderVisorWidth
        }, 200, function () {
            $('#slider ul li:first-child').appendTo('#slider ul');
            $('#slider ul').css('left', '');
        });
    };

    $('a.control_prev').click(function(event) {
        event.preventDefault();
        moveLeft();
    });

    $('a.control_next').click(function(event) {
        event.preventDefault();
        moveRight();
    });


    //click interactions for menu bar submenus
    function hideMenus(){
        $(".subMenu1").removeClass('show');
        $(".subMenu2").removeClass('show');
        $(".subMenu3").removeClass('show');
        $(".subMenu4").removeClass('show');
        $(".subMenu5").removeClass('show');
        $(".subMenu6").removeClass('show');

        $(".innerMenu1").removeClass('gray');
        $(".innerMenu2").removeClass('gray');
        $(".innerMenu3").removeClass('gray');
        $(".innerMenu4").removeClass('gray');
        $(".innerMenu5").removeClass('gray');
        $(".innerMenu6").removeClass('gray');
    }

    //var menu;
    //var sub_menu;

    function show_menu(menu, sub_menu){
        if ($(sub_menu).css('height') == "0px") {
            hideMenus();
            $(menu).addClass('gray');
            $(sub_menu).addClass('show');
        } else{
            $(sub_menu).removeClass('show');
            $(menu).removeClass('gray');
        } 
    }

    $('.innerMenu1').click(function(event){
        event.preventDefault();
        show_menu(".innerMenu1", ".subMenu1");
    });

    $('.innerMenu2').click(function(event){
        event.preventDefault();
        show_menu(".innerMenu2", ".subMenu2");
    });

    $('.innerMenu3').click(function(event){
        event.preventDefault(); 
        show_menu(".innerMenu3", ".subMenu3");
    });

    $('.innerMenu4').click(function(event){
        event.preventDefault();
        show_menu(".innerMenu4", ".subMenu4");
    });        

    $('.innerMenu5').click(function(event){
        event.preventDefault();
        show_menu(".innerMenu5", ".subMenu5");
    });

    $('.innerMenu6').click(function(event){
        event.preventDefault();
        show_menu(".innerMenu6", ".subMenu6");
    });
    
    //slider autoscrolling
    $(document).ready(function() {
        setInterval(function() {
            moveRight()
        }, 5000);  

        $( window ).resize(function() { 
            sliderVisorWidth = $('#slider').width();
            $('#slider ul li').css({ width: sliderVisorWidth});
            sliderUlWidth = slideCount * sliderVisorWidth;
            $('#slider ul').css({ width: sliderUlWidth, marginLeft: - sliderVisorWidth }); 
        }); 
    });
});    