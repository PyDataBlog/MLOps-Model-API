;****************************************************************
;iNES header
;****************************************************************
.byte "NES",$1a
.byte $01 ; 1 PRG-ROM block
.byte $00 ; 0 CHR-ROM block
; ROM control bytes: Horizontal mirroring, no SRAM
; or trainer, Mapper #0
.byte $21         ;Vertical mirroring. SRAM disabled. No trainer. Four-screen mirroring disabled. Mapper #2 (UnROM)
.byte $00         ;Rest of Mapper #2 bits (all 0)
.byte 0,0,0,0,0,0,0,0  ; pad header to 16 bytes

;****************************************************************
;Constants
;****************************************************************

STREAM_AMOUNT = 16 * 7

;****************************************************************
;Macros
;****************************************************************

;****************************************************************
;ZP variables
;****************************************************************
    .base $0000

    .enum $0000

    stream_amount: .dsb 1
    vblank_done: .dsb 1
    palette_address: .dsw 1
    nametable_address: .dsw 1
    chr_address: .dsw 1
    vram_address: .dsw 1
    chr_counter: .dsb 1
    total_chr_counter: .dsw 1
    data_ready: .dsb 1

    .ende

;****************************************************************
;RAM variables
;****************************************************************
    .base $0200

    .enum $0200
    .ende

;****************************************************************
;Demo entry point
;****************************************************************
    .base $C000
reset:
    sei          ;disable IRQs
    cld          ;disable decimal mode
    ldx #$40
    stx $4017    ;disable APU frame IRQ
    ldx #$FF
    txs          ;Set up stack
    inx          ;now X = 0
    stx $2000    ;disable NMI
    stx $2001    ;disable rendering
    stx $4010    ;disable DMC IRQs

vblankwait1:   ;First wait for vblank to make sure PPU is ready
    bit $2002
    bpl vblankwait1

clrmem:
    lda #$00
    sta $0000, x
    sta $0100, x
    sta $0200, x
    sta $0400, x
    sta $0500, x
    sta $0600, x
    sta $0700, x
    lda #$FE
    sta $0300, x
    inx
    bne clrmem

vblankwait2:      ;Second wait for vblank, PPU is ready after this
    bit $2002
    bpl vblankwait2

    lda #<palette
    sta palette_address
    lda #>palette
    sta palette_address+1
    jsr load_palette

    lda #<nametable
    sta nametable_address
    lda #>nametable
    sta nametable_address+1
    jsr load_nametable

    ;Turn on nmi
    lda #%10000000
    sta $2000

    jsr vblank_wait

    ;Turn graphics on, we want to load chr data LIVE
    lda #%00011000
    sta $2001

load_normal_chr_data:

    lda #STREAM_AMOUNT
    sta stream_amount

    ;Now we're going to load the CHR data
    lda #<4096
    sta total_chr_counter
    lda #>4096
    sta total_chr_counter+1

    lda #<chr_data
    sta chr_address
    lda #>chr_data
    sta chr_address+1

    lda #0
    sta vram_address
    sta vram_address+1

    lda stream_amount
    sta chr_counter

    lda #1
    sta data_ready

forever:
    jsr vblank_wait

    sec
    lda total_chr_counter
    sbc stream_amount
    sta total_chr_counter
    lda total_chr_counter+1
    sbc #0
    sta total_chr_counter+1

    lda total_chr_counter
    ora total_chr_counter+1
    beq black_out

    ;Account for odd stream amount sizes (not powers of 16)
    sec
    lda stream_amount
    sbc total_chr_counter
    lda #0
    sbc total_chr_counter+1
    bmi +
    lda total_chr_counter
    sta stream_amount
    +

    lda stream_amount
    sta chr_counter

    clc
    lda vram_address
    adc stream_amount
    sta vram_address
    lda vram_address+1
    adc #0
    sta vram_address+1

    clc
    lda chr_address
    adc stream_amount
    sta chr_address
    lda chr_address+1
    adc #0
    sta chr_address+1

    lda #1
    sta data_ready

    jmp forever

black_out:

    lda #STREAM_AMOUNT
    sta stream_amount

    ;Now we're going to load the CHR data
    lda #<4096
    sta total_chr_counter
    lda #>4096
    sta total_chr_counter+1

    lda #<blank_chr_data
    sta chr_address
    lda #>blank_chr_data
    sta chr_address+1

    lda #0
    sta vram_address
    sta vram_address+1

    lda stream_amount
    sta chr_counter

    lda #1
    sta data_ready

blank_loop:
    jsr vblank_wait

    sec
    lda total_chr_counter
    sbc stream_amount
    sta total_chr_counter
    lda total_chr_counter+1
    sbc #0
    sta total_chr_counter+1

    lda total_chr_counter
    ora total_chr_counter+1
    bne +
    jmp load_normal_chr_data
    +

    ;Account for odd stream amount sizes (not powers of 16)
    sec
    lda stream_amount
    sbc total_chr_counter
    lda #0
    sbc total_chr_counter+1
    bmi +
    lda total_chr_counter
    sta stream_amount
    +

    lda stream_amount
    sta chr_counter

    clc
    lda vram_address
    adc stream_amount
    sta vram_address
    lda vram_address+1
    adc #0
    sta vram_address+1

    clc
    lda chr_address
    adc stream_amount
    sta chr_address
    lda chr_address+1
    adc #0
    sta chr_address+1

    lda #1
    sta data_ready

    jmp blank_loop

vblank_wait:
    lda #0
    sta vblank_done
vblank_wait_loop:
    lda vblank_done
    beq vblank_wait_loop
    rts

;Requires vram_address to be set to the tile from which we want to begin updating
;Requires chr_counter to be set to the number of bytes we want to copy
;Requires chr_address to point to the chr_tile from which we want to begin copying
load_chr_chunk:

    lda vram_address+1
    sta $2006
    lda vram_address
    sta $2006

    ldy #0

    next_tile:
    lda (chr_address),y
    sta $2007

    iny
    dec chr_counter
    bne next_tile

    rts

load_nametable:
    lda #$20
    sta $2006
    lda #$00
    sta $2006

    ldy #$00
    ldx #$04
    nametable_loop:
    lda (nametable_address),y
    sta $2007
    iny
    bne nametable_loop
    inc nametable_address+1
    dex
    bne nametable_loop

    rts

load_palette:

    ;Set VRAM to point to beginning of palette range.
    lda #$3F
    sta $2006
    lda #$00
    sta $2006

    ;Upload the palette we're pointing to into VRAM.
    ldy #0
    pal_loop:
    lda (palette_address),y
    sta $2007
    iny
    cpy #$20
    bne pal_loop

    rts

nmi:
    pha
    txa
    pha
    tya
    pha
    php

    lda data_ready
    beq not_ready
    jsr load_chr_chunk
    lda #0
    sta data_ready
    not_ready:

    lda #$20
    sta $2006
    lda #$00
    sta $2006

    lda #0
    sta $2005
    sta $2005

    lda #1
    sta vblank_done

    plp
    pla
    tay
    pla
    tax
    pla

irq:
    rti

palette:
    .byte $0e,$08,$1a,$18,$0e,$12,$24,$20,$0e,$1a,$18,$20,$0e,$0e,$0e,$0e
    .byte $0e,$08,$1a,$18,$0e,$12,$24,$20,$0e,$1a,$18,$20,$0e,$0e,$0e,$0e

chr_data:
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$7f,$ff,$ff,$00,$00,$00,$00,$00,$00,$7f,$ff
    .byte $00,$00,$00,$00,$00,$fe,$ff,$ff,$00,$00,$00,$00,$00,$00,$fe,$fe
    .byte $03,$07,$07,$0f,$1f,$1f,$3f,$3f,$01,$03,$03,$07,$0f,$0f,$0f,$1f
    .byte $ff,$ff,$ff,$f0,$e0,$e0,$c0,$c0,$ff,$ff,$f0,$e0,$c0,$c0,$80,$80
    .byte $ff,$ff,$ff,$3f,$1f,$00,$00,$00,$ff,$ff,$3f,$1f,$00,$00,$00,$00
    .byte $80,$c0,$c0,$80,$00,$00,$00,$00,$00,$80,$80,$00,$00,$00,$00,$00
    .byte $00,$00,$01,$01,$01,$03,$03,$03,$00,$00,$00,$00,$00,$01,$01,$01
    .byte $7c,$fe,$fe,$fe,$fc,$fc,$fc,$f8,$00,$7c,$fc,$fc,$f8,$f8,$f8,$f0
    .byte $03,$07,$07,$0f,$0f,$1f,$1f,$3f,$00,$03,$03,$07,$07,$0f,$0f,$1f
    .byte $c0,$e0,$e0,$e0,$e0,$c0,$c0,$80,$00,$c0,$c0,$c0,$c0,$80,$80,$00
    .byte $00,$00,$00,$00,$00,$00,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $7f,$7f,$7f,$7f,$ff,$ff,$fe,$fe,$1f,$3f,$3f,$3e,$3e,$7e,$7c,$fc
    .byte $ff,$ff,$ff,$ff,$ff,$0f,$03,$03,$00,$3f,$7f,$7f,$00,$01,$01,$01
    .byte $fc,$fe,$fe,$fe,$fd,$fd,$fd,$fb,$00,$fc,$fc,$fc,$f8,$f8,$f8,$f1
    .byte $3b,$7f,$ff,$ff,$ff,$fe,$fc,$fc,$00,$3b,$7f,$7f,$fc,$fc,$f8,$f8
    .byte $f8,$fc,$fe,$fe,$fc,$00,$00,$00,$00,$f8,$fc,$fc,$00,$00,$00,$00
    .byte $3f,$7f,$ff,$ff,$7f,$3f,$7f,$ff,$00,$3f,$7f,$7f,$00,$00,$3f,$7f
    .byte $fc,$fe,$fe,$ff,$ff,$ff,$ff,$ff,$00,$fc,$fc,$f8,$3e,$3e,$fe,$fe
    .byte $00,$01,$03,$0f,$1f,$3f,$3f,$7f,$00,$00,$01,$03,$0f,$1f,$1f,$3f
    .byte $ff,$ff,$ff,$ff,$ff,$cf,$9f,$9f,$03,$ff,$ff,$ff,$87,$87,$0f,$0f
    .byte $f9,$fb,$f7,$f7,$f7,$ef,$ef,$ef,$f0,$f1,$e3,$e3,$e3,$c7,$c7,$c7
    .byte $f0,$f9,$f9,$f9,$f3,$f3,$e3,$e7,$00,$f0,$f0,$f0,$e1,$e1,$c1,$c3
    .byte $f8,$fc,$fd,$fd,$fc,$f8,$f8,$f1,$00,$f8,$f8,$f8,$f8,$f0,$f0,$e0
    .byte $7f,$ff,$ff,$ff,$ff,$7f,$ff,$ff,$00,$7f,$ff,$ff,$00,$00,$7f,$ff
    .byte $f8,$fc,$fc,$fc,$fe,$fe,$fe,$fe,$00,$f8,$f8,$f0,$7c,$7c,$fc,$fc
    .byte $3f,$3f,$7f,$7f,$7f,$ff,$fe,$fe,$1f,$1f,$3e,$3e,$3e,$7e,$7c,$7c
    .byte $80,$80,$80,$00,$00,$00,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $fc,$fe,$fe,$fe,$fc,$fc,$fc,$f8,$00,$fc,$fc,$fc,$f8,$f8,$f8,$f0
    .byte $fc,$fe,$fe,$fe,$ff,$ff,$ff,$ff,$00,$fc,$fc,$f8,$3e,$3e,$fe,$fe
    .byte $03,$07,$0f,$3f,$7f,$7f,$7f,$ff,$00,$03,$07,$07,$3f,$3f,$3e,$7e
    .byte $fd,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$00,$fd,$fd,$fd,$3e,$7e,$7c,$7c
    .byte $f0,$f8,$fc,$fc,$fe,$fe,$fe,$fd,$00,$f0,$f8,$f8,$7c,$fc,$fc,$f8
    .byte $07,$0f,$3f,$7f,$ff,$ff,$ff,$ff,$00,$07,$07,$1f,$7c,$7c,$7f,$ff
    .byte $fc,$fe,$ff,$ff,$07,$07,$ff,$ff,$00,$fc,$fe,$06,$03,$03,$07,$f8
    .byte $00,$00,$01,$07,$8f,$9f,$9f,$0f,$00,$00,$00,$01,$07,$0f,$0f,$07
    .byte $7f,$ff,$ff,$ff,$ff,$f8,$fe,$ff,$00,$7f,$ff,$ff,$f0,$f0,$e0,$fe
    .byte $e0,$f0,$f8,$f8,$f0,$00,$00,$80,$00,$e0,$f0,$f0,$00,$00,$00,$00
    .byte $01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $ff,$ff,$ff,$ff,$ff,$7f,$7f,$3f,$fc,$ff,$7f,$7f,$3f,$1f,$00,$00
    .byte $ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$03,$ff,$ff,$ff,$ff,$ff,$00,$00
    .byte $fb,$fb,$f7,$f7,$e7,$cf,$0f,$07,$f1,$f1,$e3,$e3,$c3,$07,$07,$00
    .byte $fc,$f8,$f8,$f8,$f0,$f0,$f0,$e0,$f8,$f0,$f0,$f0,$e0,$e0,$e0,$00
    .byte $01,$03,$07,$07,$07,$03,$03,$01,$00,$01,$03,$03,$03,$01,$01,$00
    .byte $ff,$ff,$e0,$ff,$ff,$ff,$ff,$fe,$ff,$e0,$c0,$80,$ff,$ff,$fe,$00
    .byte $fe,$fe,$fc,$fc,$fc,$f8,$f8,$78,$fc,$7c,$78,$f8,$f8,$70,$70,$00
    .byte $7f,$7f,$ff,$ff,$ff,$7f,$7f,$3f,$3f,$3e,$7e,$7e,$7f,$3f,$3f,$00
    .byte $bf,$3f,$3f,$ff,$ff,$ff,$ff,$fe,$1f,$1f,$1f,$3f,$ff,$fe,$fe,$00
    .byte $df,$df,$bf,$bf,$bf,$1f,$1f,$0f,$8f,$8f,$1f,$1f,$1f,$0f,$0f,$00
    .byte $e7,$c7,$cf,$ff,$ff,$ff,$ff,$fe,$c3,$83,$87,$87,$ff,$ff,$fe,$00
    .byte $f3,$f7,$ef,$ef,$cf,$87,$07,$03,$e1,$e3,$c7,$c7,$87,$03,$03,$00
    .byte $ff,$ff,$c1,$ff,$ff,$ff,$ff,$fc,$ff,$c0,$80,$01,$ff,$fe,$fc,$00
    .byte $fc,$fd,$f9,$fb,$fb,$f7,$f7,$e3,$f8,$f8,$f0,$f1,$f1,$e3,$e3,$00
    .byte $fe,$fc,$fc,$fc,$f8,$f8,$f8,$f0,$7c,$f8,$f8,$f8,$f0,$f0,$f0,$00
    .byte $f9,$fb,$f7,$f7,$e7,$c3,$03,$01,$f0,$f1,$e3,$e3,$c3,$01,$01,$00
    .byte $fe,$fe,$fd,$fd,$fd,$fb,$fb,$71,$fc,$7c,$78,$f8,$f8,$71,$71,$00
    .byte $ff,$ff,$ff,$ff,$ff,$ff,$ff,$fb,$7e,$7c,$fc,$fd,$f9,$fb,$fb,$00
    .byte $ff,$ff,$ff,$ff,$ff,$ff,$ff,$f7,$fd,$f9,$fb,$fb,$f3,$f3,$f7,$00
    .byte $fd,$ff,$fb,$fb,$f3,$f1,$f0,$e0,$f8,$f9,$f1,$f1,$e1,$e0,$e0,$00
    .byte $ff,$ff,$ff,$ff,$ff,$ff,$7f,$3f,$ff,$ff,$f8,$f8,$ff,$7f,$3f,$00
    .byte $fc,$f8,$f8,$fc,$fe,$fe,$fc,$f8,$f8,$f0,$00,$00,$fc,$fc,$f8,$00
    .byte $0f,$07,$00,$3f,$7f,$ff,$ff,$7f,$07,$00,$00,$00,$3f,$7f,$7f,$00
    .byte $ff,$ff,$3f,$ff,$ff,$ff,$fe,$f8,$ff,$3f,$1f,$07,$ff,$fe,$f8,$00
    .byte $c0,$e0,$e0,$e0,$c0,$80,$00,$00,$80,$c0,$c0,$c0,$80,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$e0,$f0,$f8,$00,$00,$00,$00,$00,$00,$60,$f0
    .byte $00,$00,$00,$00,$00,$00,$3f,$7f,$00,$00,$00,$00,$00,$00,$00,$0f
    .byte $01,$00,$00,$00,$00,$00,$f0,$f8,$00,$00,$00,$00,$00,$00,$00,$c0
    .byte $fc,$fe,$7f,$3f,$3f,$1f,$1f,$0f,$f8,$7c,$1c,$1e,$0f,$0f,$07,$03
    .byte $00,$00,$00,$80,$c0,$c0,$e0,$e0,$00,$00,$00,$00,$00,$80,$c0,$c0
    .byte $00,$00,$00,$00,$00,$01,$06,$09,$00,$00,$00,$00,$00,$00,$00,$01
    .byte $00,$00,$00,$00,$ff,$3c,$db,$eb,$00,$00,$00,$00,$00,$00,$c3,$e3
    .byte $00,$00,$00,$00,$f0,$0e,$f3,$f9,$00,$00,$00,$00,$00,$00,$f0,$f8
    .byte $00,$00,$00,$00,$00,$00,$e0,$f0,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$3f,$c7,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $04,$07,$04,$04,$04,$04,$07,$07,$04,$07,$04,$04,$04,$04,$07,$07
    .byte $00,$ff,$70,$70,$70,$00,$0f,$0f,$00,$ff,$70,$70,$70,$00,$0f,$0f
    .byte $00,$c0,$7c,$73,$70,$00,$0e,$0f,$00,$c0,$7c,$73,$70,$00,$0e,$0f
    .byte $00,$00,$00,$00,$80,$80,$80,$80,$00,$00,$00,$00,$80,$80,$80,$80
    .byte $00,$00,$00,$00,$00,$01,$07,$3f,$00,$00,$00,$00,$00,$00,$01,$03
    .byte $00,$00,$00,$00,$00,$ff,$ff,$ff,$00,$00,$00,$00,$00,$1f,$ff,$ff
    .byte $7c,$78,$78,$3c,$0f,$c7,$f0,$fe,$0c,$1b,$1b,$0c,$07,$c1,$f0,$fe
    .byte $ff,$1f,$03,$00,$00,$c0,$f0,$08,$f8,$1e,$c3,$f8,$3e,$c7,$71,$08
    .byte $07,$c3,$f1,$f8,$7c,$1e,$0e,$07,$01,$01,$81,$c0,$7c,$9e,$ce,$67
    .byte $f0,$fc,$c0,$1f,$ff,$ff,$ff,$ff,$e0,$f0,$c0,$1f,$7f,$3f,$ff,$cf
    .byte $00,$00,$00,$c0,$f0,$fc,$fe,$f3,$00,$00,$00,$c0,$e0,$e4,$ee,$e3
    .byte $00,$00,$00,$00,$01,$00,$02,$07,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $1b,$3c,$7f,$8c,$6b,$e7,$d7,$37,$03,$00,$00,$00,$63,$e7,$c7,$07
    .byte $eb,$1d,$fe,$01,$fe,$fe,$fe,$fd,$e3,$01,$00,$00,$fe,$fe,$fe,$fc
    .byte $fd,$fd,$03,$ff,$e1,$de,$bf,$bf,$fc,$fc,$00,$00,$00,$1e,$3f,$3f
    .byte $fe,$e7,$db,$bd,$d3,$6e,$bd,$b3,$00,$00,$18,$3c,$10,$00,$81,$83
    .byte $00,$80,$e0,$f0,$fc,$3c,$de,$c7,$00,$00,$00,$00,$00,$00,$c0,$c0
    .byte $03,$07,$0f,$3f,$4f,$2f,$1f,$7f,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $9f,$b8,$f0,$f0,$f0,$ff,$ff,$ff,$00,$08,$00,$00,$00,$00,$00,$00
    .byte $f0,$f8,$fc,$fe,$fe,$ff,$ff,$ff,$00,$80,$80,$80,$80,$00,$00,$00
    .byte $07,$04,$04,$04,$04,$07,$07,$07,$07,$04,$04,$04,$04,$07,$07,$07
    .byte $0f,$00,$f0,$f0,$00,$07,$07,$04,$0f,$00,$f0,$f0,$00,$07,$07,$04
    .byte $0f,$01,$f1,$f1,$01,$fe,$e0,$00,$0f,$01,$f1,$f1,$01,$fe,$e0,$00
    .byte $00,$07,$01,$0d,$0c,$07,$03,$00,$00,$00,$00,$0c,$0c,$07,$03,$00
    .byte $3f,$ff,$ff,$ff,$7f,$7f,$7f,$7f,$1f,$1f,$ff,$7f,$3f,$3f,$3f,$3f
    .byte $ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff
    .byte $ff,$ff,$ff,$ff,$ff,$f7,$f3,$bb,$ff,$ff,$ff,$ff,$ff,$f7,$e3,$93
    .byte $e6,$fc,$ff,$ff,$ff,$ff,$ff,$ff,$e6,$fc,$ff,$ff,$ff,$ff,$ff,$ff
    .byte $07,$87,$9f,$bf,$9f,$cf,$e7,$f7,$37,$07,$8f,$13,$1f,$0f,$c7,$d7
    .byte $ff,$f8,$fc,$ff,$ff,$ff,$ff,$ff,$e0,$d8,$f8,$ff,$ff,$ff,$fe,$f8
    .byte $fb,$ff,$f9,$e0,$c0,$c0,$e1,$fc,$c3,$7f,$f9,$e6,$de,$de,$61,$fc
    .byte $87,$f8,$e0,$7f,$b0,$bc,$64,$e0,$80,$c0,$c0,$60,$a0,$a0,$60,$c0
    .byte $00,$00,$00,$00,$80,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $0f,$0c,$1b,$33,$2f,$1f,$5f,$5f,$00,$00,$03,$03,$0f,$1f,$1f,$1f
    .byte $f7,$77,$bb,$dc,$ef,$ef,$f7,$f7,$07,$07,$83,$c0,$e0,$e0,$f0,$f0
    .byte $fd,$fd,$fd,$fd,$03,$ff,$c0,$bf,$fc,$fc,$fc,$fc,$00,$00,$00,$3f
    .byte $7f,$7f,$7f,$bf,$df,$20,$df,$ef,$7f,$7f,$7f,$3f,$1f,$00,$c0,$e0
    .byte $af,$af,$af,$af,$77,$fb,$fd,$86,$8f,$8f,$8f,$8f,$07,$03,$01,$00
    .byte $fb,$fd,$fd,$fd,$fd,$f3,$ef,$1f,$f8,$fc,$fc,$fc,$fc,$f0,$e0,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$7f,$7f,$7f,$7f,$7f,$7f,$7f,$7f
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$fe,$fe,$ff,$ff,$ff,$7f,$08,$e0
    .byte $fe,$30,$00,$00,$c0,$c0,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $07,$06,$06,$06,$06,$06,$0e,$1c,$07,$06,$06,$06,$06,$06,$0e,$1c
    .byte $fc,$00,$00,$00,$00,$00,$00,$00,$fc,$00,$00,$00,$00,$00,$00,$00
    .byte $7f,$7f,$7f,$7f,$3f,$3f,$3f,$1f,$1f,$1f,$1f,$1f,$1f,$1f,$0f,$07
    .byte $99,$c5,$f1,$f9,$f9,$fb,$f9,$fd,$81,$c1,$b1,$e9,$d1,$e0,$e0,$f4
    .byte $ff,$ff,$ff,$ff,$ff,$ff,$fe,$fc,$ff,$ff,$ff,$ff,$ff,$ff,$3c,$0c
    .byte $f7,$ff,$fc,$fe,$ff,$ff,$ff,$ff,$e7,$ff,$fc,$fa,$fd,$fe,$fc,$fe
    .byte $ff,$ff,$ff,$7f,$1f,$cf,$f1,$f2,$e3,$1c,$7b,$37,$07,$80,$40,$80
    .byte $c9,$e3,$ff,$ff,$fe,$f8,$00,$00,$c9,$e3,$fe,$3e,$78,$00,$00,$00
    .byte $c0,$80,$00,$00,$00,$00,$00,$00,$80,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$0f,$ff,$ff,$1f,$00,$00,$00,$01
    .byte $5f,$5f,$23,$3b,$1c,$07,$00,$00,$1f,$1f,$03,$83,$00,$40,$f0,$ff
    .byte $fb,$fb,$e7,$df,$3f,$ff,$ff,$07,$f8,$f8,$e0,$c0,$00,$00,$00,$00
    .byte $7f,$7f,$7f,$bf,$df,$ee,$f1,$ff,$7f,$7f,$7f,$3f,$1f,$0e,$00,$00
    .byte $ef,$ee,$ed,$ed,$1e,$fe,$ff,$ff,$e0,$e0,$e1,$e1,$00,$00,$00,$00
    .byte $7b,$fd,$fd,$fd,$fd,$f3,$0f,$ff,$78,$fc,$fc,$fc,$fc,$f0,$00,$00
    .byte $ff,$fe,$fe,$fc,$f8,$f0,$c0,$00,$00,$00,$00,$01,$01,$07,$0f,$1c
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$7f,$ff,$fb,$fa,$fc,$dc,$90,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$80,$80,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$01,$03,$07,$0e,$1c,$00,$00,$00,$01,$03,$07,$0e,$1c
    .byte $38,$70,$e0,$c0,$80,$00,$00,$00,$38,$70,$e0,$c0,$80,$00,$00,$00
    .byte $0f,$03,$00,$38,$3e,$1e,$0e,$06,$03,$00,$00,$00,$08,$0e,$06,$00
    .byte $ff,$ff,$ff,$ff,$3f,$3f,$7e,$ff,$ff,$ff,$1f,$1f,$0f,$1e,$7e,$7f
    .byte $fc,$f9,$f8,$f8,$f0,$00,$de,$bf,$e4,$e0,$f0,$c0,$c0,$00,$80,$b0
    .byte $f9,$fb,$7b,$0f,$07,$00,$03,$8f,$01,$03,$03,$03,$01,$00,$01,$03
    .byte $ff,$ff,$f7,$f7,$f2,$f8,$7b,$fb,$fe,$ff,$f6,$f3,$f0,$70,$7b,$f9
    .byte $f2,$e2,$d8,$dc,$7e,$ff,$ff,$ff,$60,$20,$90,$10,$78,$fe,$ff,$ff
    .byte $00,$00,$00,$00,$00,$00,$80,$c0,$00,$00,$00,$00,$00,$00,$00,$80
    .byte $00,$00,$00,$00,$00,$00,$01,$03,$00,$00,$00,$00,$01,$02,$01,$03
    .byte $00,$00,$00,$00,$00,$00,$f0,$f0,$01,$05,$1f,$ff,$ff,$0f,$f7,$f7
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff
    .byte $01,$00,$00,$00,$00,$00,$00,$00,$f0,$fc,$ff,$fd,$e5,$e4,$c1,$0f
    .byte $ff,$00,$00,$00,$00,$00,$00,$00,$00,$00,$ff,$ff,$ff,$3f,$87,$f8
    .byte $ff,$00,$00,$00,$00,$00,$00,$00,$00,$00,$ff,$ff,$ff,$ff,$ff,$00
    .byte $f8,$00,$00,$00,$00,$00,$00,$00,$00,$07,$ff,$fd,$fe,$e0,$0e,$7f
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$ff,$ff,$ff,$ff,$ff,$ff,$1f,$0f
    .byte $e0,$f8,$fe,$ff,$ff,$ff,$ff,$ff,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$01,$e3,$c3,$82,$80,$00,$00,$00,$01,$03,$0b,$3a,$38
    .byte $02,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $ff,$7f,$1f,$23,$18,$1f,$0f,$07,$3f,$01,$00,$00,$00,$0c,$07,$03
    .byte $bf,$ff,$ff,$ff,$7f,$07,$e3,$f0,$be,$ff,$7f,$1f,$03,$01,$c0,$e0
    .byte $e3,$f9,$fc,$ff,$ff,$fe,$fd,$fe,$03,$81,$e0,$fe,$ff,$fe,$7d,$7c
    .byte $fb,$fd,$78,$20,$c0,$c0,$40,$c0,$f8,$f0,$40,$00,$00,$00,$00,$80
    .byte $ff,$ff,$7f,$0f,$03,$01,$00,$00,$ff,$3f,$0f,$03,$01,$00,$00,$00
    .byte $e0,$f8,$fc,$fe,$ff,$ff,$fe,$7b,$c0,$e0,$c8,$fc,$fe,$ff,$3e,$1b
    .byte $00,$00,$00,$00,$80,$c0,$40,$40,$00,$00,$00,$00,$00,$80,$40,$40
    .byte $01,$01,$00,$00,$00,$00,$00,$00,$01,$01,$00,$00,$00,$00,$00,$00
    .byte $f0,$f0,$c3,$07,$0f,$07,$00,$00,$f7,$f4,$cb,$37,$2f,$07,$00,$00
    .byte $00,$00,$80,$80,$80,$80,$00,$00,$fc,$70,$a0,$a0,$80,$80,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$1f,$ff,$ff,$7f,$1f,$0f,$03,$01
    .byte $00,$00,$19,$7d,$7c,$38,$00,$00,$fc,$e4,$99,$7d,$7c,$b8,$c0,$80
    .byte $00,$c0,$e0,$e0,$f0,$e2,$03,$07,$1f,$df,$ef,$ef,$f5,$ea,$13,$17
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$fe,$fe,$fc,$f8,$f0,$f0,$60,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00
    .byte $ff,$7e,$7c,$7c,$1e,$07,$20,$78,$00,$00,$01,$01,$00,$00,$20,$78
    .byte $00,$10,$00,$00,$00,$00,$00,$00,$08,$c0,$e0,$e0,$c0,$00,$00,$00
    .byte $07,$06,$07,$03,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $f0,$f2,$67,$66,$01,$00,$00,$00,$e0,$40,$00,$00,$00,$00,$00,$00
    .byte $fe,$3f,$83,$f8,$e0,$00,$00,$00,$1e,$03,$00,$00,$00,$00,$00,$00
    .byte $40,$40,$80,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $3b,$3d,$1f,$07,$00,$00,$00,$00,$19,$0d,$06,$00,$00,$00,$00,$00
    .byte $40,$80,$80,$00,$00,$00,$00,$00,$40,$80,$00,$00,$00,$00,$00,$00
    .byte $06,$00,$00,$00,$00,$00,$00,$00,$06,$00,$00,$00,$00,$00,$00,$00
    .byte $01,$03,$07,$0f,$3e,$78,$f0,$20,$01,$03,$07,$0f,$3e,$78,$f0,$20
    .byte $f0,$c0,$80,$00,$00,$00,$00,$00,$f0,$c0,$80,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$08,$00,$00,$00,$00,$00,$00,$00,$08
    .byte $00,$0d,$06,$04,$04,$04,$06,$05,$00,$0d,$06,$04,$04,$04,$06,$05
    .byte $00,$87,$61,$21,$21,$21,$61,$87,$00,$87,$61,$21,$21,$21,$61,$87
    .byte $00,$70,$8b,$02,$03,$02,$03,$c0,$00,$70,$8b,$02,$03,$02,$03,$c0
    .byte $00,$e0,$19,$09,$f8,$00,$19,$e0,$00,$e0,$19,$09,$f8,$00,$19,$e0
    .byte $00,$f8,$04,$00,$f8,$04,$04,$f8,$00,$f8,$04,$00,$f8,$04,$04,$f8
    .byte $00,$38,$c6,$82,$fe,$80,$c6,$38,$00,$38,$c6,$82,$fe,$80,$c6,$38
    .byte $00,$6c,$32,$22,$22,$22,$22,$77,$00,$6c,$32,$22,$22,$22,$22,$77
    .byte $08,$3f,$08,$08,$08,$08,$08,$07,$08,$3f,$08,$08,$08,$08,$08,$07
    .byte $00,$0f,$10,$10,$0f,$00,$90,$0f,$00,$0f,$10,$10,$0f,$00,$90,$0f
    .byte $00,$80,$40,$00,$80,$40,$40,$80,$00,$80,$40,$00,$80,$40,$40,$80

blank_chr_data:
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00

nametable:
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$01,$02,$03,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$02,$03,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$04,$05,$06,$07,$00,$00,$00,$00,$08,$09,$00,$00,$00,$00,$0a,$0b,$04,$05,$06,$07,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$0c,$0d,$0e,$0f,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$1a,$1b,$1c,$0d,$0e,$1d,$12,$1e,$1f,$20,$21,$22,$23,$24,$25,$26,$00
    .byte $00,$27,$28,$29,$2a,$2b,$2c,$2d,$2e,$2f,$30,$31,$32,$33,$34,$35,$36,$27,$28,$29,$37,$2d,$38,$39,$3a,$3b,$3c,$3d,$3e,$3f,$40,$00
    .byte $00,$00,$00,$00,$00,$00,$0c,$41,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$42,$43,$44,$45,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$46,$47,$48,$49,$00,$00,$4a,$49,$4b,$4c,$4d,$4e,$00
    .byte $00,$00,$00,$4f,$50,$51,$52,$53,$54,$55,$00,$00,$00,$00,$00,$00,$00,$00,$56,$57,$58,$59,$5a,$5b,$5c,$5d,$5e,$5f,$60,$61,$00,$00
    .byte $00,$00,$62,$63,$64,$65,$66,$67,$68,$69,$6a,$6b,$00,$00,$00,$00,$00,$00,$6c,$6d,$6e,$6f,$70,$71,$72,$73,$74,$75,$76,$00,$00,$00
    .byte $00,$00,$00,$77,$64,$78,$79,$7a,$7b,$7c,$7d,$00,$00,$00,$00,$00,$7e,$7f,$80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$00,$00,$00,$00
    .byte $00,$00,$00,$8a,$8b,$8c,$8d,$8e,$8f,$90,$00,$00,$00,$00,$00,$00,$91,$92,$93,$94,$95,$96,$97,$98,$99,$9a,$89,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$9b,$9c,$9d,$9e,$9f,$a0,$a1,$a2,$00,$00,$00,$00,$00,$a3,$a4,$a5,$a6,$a7,$a8,$a9,$aa,$ab,$ac,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$ad,$ae,$af,$b0,$00,$b1,$b2,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$b3,$00,$b4,$b5,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$b6,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$b7,$b8,$b9,$ba,$bb,$bc,$bd,$be,$bf,$c0,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$c1,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00
    .byte $54,$51,$50,$50,$54,$51,$50,$50
    .byte $45,$55,$15,$05,$05,$05,$a5,$55
    .byte $44,$55,$55,$00,$00,$00,$68,$01
    .byte $00,$05,$05,$00,$40,$04,$01,$00
    .byte $00,$00,$04,$05,$05,$01,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00
    .byte $00,$00,$00,$00,$00,$00,$00,$00

;****************************************************************
;Vectors
;****************************************************************
    .org $FFFA     ;first of the three vectors starts here
    .dw nmi        ;when an NMI happens (once per frame if enabled) the
                 ;processor will jump to the label NMI:
    .dw reset      ;when the processor first turns on or is reset, it will jump
                 ;to the label RESET:
    .dw irq        ;external interrupt IRQ is not used in this tutorial
