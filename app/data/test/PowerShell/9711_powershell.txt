<#
.Synopsis
Retrieves Transsmart user accounts
#>
function Get-TranssmartUser
{
    Param
    (
        [Parameter(Mandatory)]
        [string]$Url,

        [Parameter(Mandatory)]
        [string]$UserName,

        [Parameter(Mandatory)]
        [AllowNull()]
        [string]$Password,

        [Parameter(ValueFromPipeLine, ValueFromPipeLineByPropertyName)]
        [int]$ID
    )

    Begin
    {
        $Client = New-Object -TypeName Transsmart.Api.Client -ArgumentList $Url, $UserName, $Password        
    }
    Process
    {
        if ($ID)
        {
            $Client.GetUser($ID)
        }
    }
    End
    {
        if (-not $ID)
        {
            $Client.GetUsers()
        }
    }
}
