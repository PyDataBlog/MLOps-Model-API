
SRC = $(notdir $(shell ls *.cpp))

OBJ = $(SRC:.cpp=.o)

CFLAGS=-g -O0 -std=c++14

LFLAGS=-lboost_program_options \
	   -lpthread \
	   -lboost_log \
	   -lboost_log_setup \
	   -lboost_system \
	   -lboost_date_time \
	   -lboost_filesystem \
	   -lboost_thread

all : test

%.o : %.cpp
	g++ -c -o $@ $(CFLAGS) $<

test : $(OBJ)
	g++ -o $@ $^ $(LFLAGS)

clean:
	rm -f *.o test

.PHONY: all clean
