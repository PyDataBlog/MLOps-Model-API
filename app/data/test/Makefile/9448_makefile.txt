.PHONY: all build clean

all: document build

document:
	raml2html api.raml > apidocs/index.html

build:
	CGO_ENABLED=0 GOOS=linux go build -a -tags netgo -ldflags '-w' . 
	docker build -t api-mtha .

clean:
	-rm api
	-rm apidocs/index.html
	-docker rm api-mtha
	-docker rmi api-mtha

