#Copy Role between vCenters

function copy-roles 
{

Param (
[string]$VC1,[string]$VC2,[string]$Role
)


connect-viserver $VC1,$VC2
[string[]]$privsfromVC1=Get-VIPrivilege -Role (Get-VIRole -Name $Role -server $VC1) |%{$_.id}
New-VIRole -name $Role -Server $VC2 
Set-VIRole -role (get-virole -Name $Role -Server $VC2) -AddPrivilege (get-viprivilege -id $privsfromVC1 -server $VC2)
(Get-VIRole -Name $Role -Server $VC1).PrivilegeList.Count
(Get-VIRole -Name $Role -Server $VC2).PrivilegeList.Count
disconnect-viserver $VC1,$VC2 -Confirm:$false
}