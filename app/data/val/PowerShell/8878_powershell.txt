<#
.SYNOPSIS
This PowerShell script module file provides a step to be used in a series of
executable PowerShell steps that is intended to be included in all main
PowerShell scripts that reside within the automation framework.

.DESCRIPTION
Note: This script module is NOT intended to be executed independent of another
PowerShell script referencing and using it.
#>

function Read-DefaultContext {
    <#
    .SYNOPSIS
    Reads all default context properties from the underlying operating system's
    (OS) default context file.

    .DESCRIPTION
    N/A

    .EXAMPLE
    There are no parameters for this function.
 
    $defaultContext = Read-DefaultContext
    #>

    # set absolute path to default OS-specific context file
    $defaultContextFilePath = (Get-OsContextProperty -name "DefaultContextFilePath")

    # read default context file into hashtable, if it exists
    if (Test-FileExists -filePath $defaultContextFilePath) {
        $defaultContext = (Get-Content -Raw $defaultContextFilePath | ConvertFrom-StringData)
        return $defaultContext
    }

    return $null
}