class Solution:
    def maxProfit(self, prices, fee):
        dp = [[-prices[0]], [0]]
        for i in range(1, len(prices)):
            dp[0].append(max(dp[0][i-1], dp[1][i-1]-prices[i]))
            dp[1].append(max(dp[0][i-1]+prices[i]-fee, dp[1][i-1]))
        return dp[1][-1]
print(Solution().maxProfit([1, 3, 2, 8, 4, 9], 2))
