using UnityEngine;
using System.Collections;

public class RandomObject2 : MonoBehaviour {
	private float distanse = 10;
	private float objectspawn = 0;
	public float interval = 5;
	// Use this for initialization
	void Start () {
		GameObject player = GameObject.Find("Player");
		distanse = this.transform.position.z - player.transform.position.z;
		CreateObject();
	}
	
	// Update is called once per frame
	void Update () {
		GameObject player = GameObject.Find("Player");
		this.transform.position = new Vector3(this.transform.position.x,this.transform.position.y,
		                                      player.transform.position.z + distanse);
		if((this.transform.position.z - this.objectspawn)> interval)
		{
			CreateObject();
		}
	}
	private void CreateObject()
	{
		Vector3 pos = new Vector3(this.transform.position.x + Global.GetRandomFloat(-5,5),
		                          -3.2f,
		                          this.transform.position.z - 4.0f);
		if(Global.GetRandomFloat(0,1)>0.3f)
		{
			Instantiate(Resources.Load ("Achive"),pos,Quaternion.identity);
		}
		else
		{
			Instantiate(Resources.Load ("Enemy"),pos, new Quaternion(0f,180f,0f,1));
		}
		this.objectspawn = this.transform.position.z;
	}
}
