{\small
\ensuremath{\boxed{\USynchL[\DaWorld[\TypeCtx][\Refinement]][\SNorm]}}

\begin{mathpar}

\inferrule[U-Ctx]{
  %\DaWF[\DaWorld[\TypeCtx_1][\Refinement_1] \cdots \DaWorld[\TypeCtx_n][\Refinement_n]] \qquad
\HasType[\DVar][\Refinement'] \in \TypeCtx \\
\DaSub[\Refinement'][\Refinement] \\
\DaSub[\Refinement][\TOr[\TTrue][\TFalse]]
}{
  \USynchL[\DaWorld[\TypeCtx][\Refinement]][\DVar]
}

\inferrule[U-True]{
  \DaSub[\TTrue][\Refinement]
}{
  \USynchL[\DaWorld[\TypeCtx][\Refinement]][\ETrue]
}

\inferrule[U-False]{
  \DaSub[\TFalse][\Refinement]
}{
  \USynchL[\DaWorld[\TypeCtx][\Refinement]][\EFalse]
}

\inferrule[U-Bot]{
\FromCtx[\TypeCtx][\DVar][\TBot] \\
}{
  \USynchL[\DaWorld[\TypeCtx][\Refinement]][\SNorm]
}

\inferrule[U-ITE-True]{
\FromCtx[\TypeCtx][\DVar][\TTrue] \\
  \USynchL[\DaWorld[\TypeCtx][\Refinement]][\SNorm_1]
}{
  \USynchL[\DaWorld[\TypeCtx][\Refinement]][\EITE[\DVar][\SNorm_1][\SNorm_2]]
}

\inferrule[U-ITE-False]{
\FromCtx[\TypeCtx][\DVar][\TFalse] \\
  \USynchL[\DaWorld[\TypeCtx][\Refinement]][\SNorm_2]
}{
  \USynchL[\DaWorld[\TypeCtx][\Refinement]][\EITE[\DVar][\SNorm_1][\SNorm_2]]
}

% \inferrule[U-ITE-Bool]{
% \ESND[\TypeCtx][\DVar][\TOr[\TTrue][\TFalse]] \\
%   \USynchL[\DaWorld[\TypeCtx][\Refinement]][\SNorm_1] \\
%   \USynchL[\DaWorld[\TypeCtx][\Refinement]][\SNorm_2]
% }{
%   \USynchL[\DaWorld[\TypeCtx][\Refinement]][\EITE[\DVar][\SNorm_1][\SNorm_2]]
% }


\inferrule[U-RArrow]{
  \DVar \not\in \TypeCtx \\
    \USynchL[\DaWorld[\TypeCtx,\HasType[\DVar][\Refinement_a]][\Refinement_b]][\SNorm]
}{
  \USynchL[\DaWorld[\TypeCtx][\Refinement_a \rightarrow \Refinement_b]][\DaLam[\DVar][\SNorm]]
}

\inferrule[U-LArrow]{
\FromCtx[\TypeCtx][\DVar_1][\TFunc{\Refinement_1}{\Refinement_2}] \\
\USynchL[\DaWorld[\TypeCtx][\Refinement_1]][\SNorm_1] \\
\DVar_2 \not\in \TypeCtx \\
\USynchL[\DaWorld[\TypeCtx,\HasType[\DVar_2][\Refinement_2]][\Refinement]][\SNorm_2]
}{
  \USynchL[\DaWorld[\TypeCtx][\Refinement]][\ELet[\DVar_2][\EApp[\DVar_1][\SNorm_1]][\SNorm_2]]
}

\inferrule[U-RAnd]{
  \USynchL[ 
         \DaWorld[\TypeCtx][\Refinement_{1}] 
  ][\SNorm] \\
  \USynchL[
         \DaWorld[\TypeCtx][\Refinement_{2}] 
  ][\SNorm]
}{
  \USynchL[
         \DaWorld[\TypeCtx][\TAnd[\Refinement_{1}][\Refinement_{2}]] 
  ][\SNorm]
}

\inferrule[U-LAnd]{
\FromCtx[\TypeCtx][\DVar][\TAnd[\Refinement_{a}][\Refinement_{b}]]  \\
\DVar_1,\DVar_2 \not\in \TypeCtx \\
\USynchL[\DaWorld[\TypeCtx,\HasType[\DVar_1][\Refinement_{a}],\HasType[\DVar_2][\Refinement_{b}]][\Refinement]][\SNorm]
}{
  \USynchL[ \DaWorld[\TypeCtx][\Refinement]][\SNorm[\DVar/\DVar_1][\DVar/\DVar_2]]
}

\inferrule[U-ROr1]{
  \USynchL[\DaWorld[\TypeCtx][\Refinement_{1}]][\SNorm]
}{
  \USynchL[\DaWorld[\TypeCtx][\TOr[\Refinement_{1}][\Refinement_{2}]]][\SNorm]
}

\inferrule[U-ROr2]{
  \USynchL[\DaWorld[\TypeCtx][\Refinement_{2}]][\SNorm]
}{
  \USynchL[\DaWorld[\TypeCtx][\TOr[\Refinement_{1}][\Refinement_{2}]]][\SNorm]
}

\inferrule[U-LOr]{
  \USynchL[\DaWorld[\TypeCtx,\HasType[\DVar][\Refinement_{1}],\TypeCtx'][\Refinement] ][\SNorm] \\
  \USynchL[\DaWorld[\TypeCtx,\HasType[\DVar][\Refinement_{2}],\TypeCtx'][\Refinement] ][\SNorm]
}{
  \USynchL[
         \DaWorld[\TypeCtx,\HasType[\DVar][\TOr[\Refinement_{1}][\Refinement_{2}]],\TypeCtx'][\Refinement] 
  ][\SNorm]
}

\inferrule[U-RPair]{
  \USynchL[\DaWorld[\TypeCtx][\Refinement_a]][\SNorm_1] \\
  \USynchL[\DaWorld[\TypeCtx][\Refinement_b]][\SNorm_2]
}{
  \USynchL[\DaWorld[\TypeCtx][\TPair[\Refinement_a][\Refinement_b]]][\EPair[\SNorm_1][\SNorm_2]]
}

\inferrule[U-LPair]{
\FromCtx[\TypeCtx][\DVar][\TPair[\Refinement_{a}][\Refinement_{b}]]  \\
\DVar_1,\DVar_2 \not\in \TypeCtx \\
\USynchL[\DaWorld[\TypeCtx,\HasType[\DVar_1][\Refinement_{a}],\HasType[\DVar_2][\Refinement_{b}]][\Refinement]][\SNorm]
}{
  \USynchL[ \DaWorld[\TypeCtx][\Refinement]][\ELet[\EPair[\DVar_1][\DVar_2]][\DVar][\SNorm]]
}


\inferrule[U-Sample]{
  \EConstant \in \DaC[\Refinement'] \\
  \DVar \not\in \TypeCtx \\
  \USynchL[\DaWorld[\TypeCtx,\HasType[\DVar][\Refinement']][\Refinement]][\SNorm]
}{
  \USynchL[ \DaWorld[\TypeCtx][\Refinement]][\ELet[\DVar][\EConstant][\SNorm]]
}

\end{mathpar}
}