;¯â¨¬¨§¨à®¢ ­­ë© ª®¬¯®­¥­â CheckBox (áå®¤­ë© ¢ à¨ ­â ®â Maxxxx32)
;¯â¨¬¨§¨à®¢ ­ ¢ë¢®¤ áâà®ª¨, ­ ¤¯¨á¨ ¤«ï CheckBox'a + â¥¯¥àì ¯à¨ ¯à®¢¥àª¥ ­¥ ;¯à®¨áå®¤¨â ¯®¤áç¥â ª®«-¢  á¨¬¢®«®¢ ¢ áâà®ª¥
;¯â¨¬¨§ æ¨ï ª®¬ ­¤.
;21.02.2007 ¬®¤¥à­¨§ æ¨ï ¨ ¯®¤¤¥à¦ª  ¤¢ãå à §­ëå ¢ à¨ ­â®¢ á ¨á¯®«ì§®¢ ­¨¥¬ á¨á æ¢¥â®¢ ¨ áâ à®© áå¥¬®©
;19.02.2007 ®¡é¥¥ ã«ãçè¥­¨¥ ª®¤ , ã¬¥­ìè¥­¨¥ à §¬¥à  ¨ ¨á¯®«ì§®¢ ­¨¥ á¨áâ¥¬­ëå æ¢¥â®¢ ¤«ï ®â®¡à ¦¥­¨ï checkbox
;22.08.2006 ¯à®¨§¢¥¤¥­  ®¯â¨¬¨§ æ¨ï ª®¬ ­¤, ¯à¨­ïâë ¢® ¢­¨¬ ­¨¥ § ¬¥ç ­¨ï DIAMOND' .
;<Lrz>  - ¥¯«®¢ «¥ªá¥©  www.lrz.land.ru

;§ £®«®¢®ª ¯à¨«®¦¥­¨ï
use32                ; âà ­á«ïâ®à, ¨á¯®«ì§ãîé¨© 32 à §àï¤­ëå ª®¬ ­¤ë
    org 0x0                 ; ¡ §®¢ë©  ¤à¥á ª®¤ , ¢á¥£¤  0x0
    db 'MENUET01'           ; ¨¤¥­â¨ä¨ª â®à ¨á¯®«­ï¥¬®£® ä ©«  (8 ¡ ©â)
    dd 0x1                  ; ¢¥àá¨ï ä®à¬ â  § £®«®¢ª  ¨á¯®«­ï¥¬®£® ä ©« 
    dd start                ;  ¤à¥á, ­  ª®â®àë© á¨áâ¥¬  ¯¥à¥¤ ñâ ã¯à ¢«¥­¨¥
                            ; ¯®á«¥ § £àã§ª¨ ¯à¨«®¦¥­¨ï ¢ ¯ ¬ïâì
    dd i_end                ; à §¬¥à ¯à¨«®¦¥­¨ï
    dd i_end                ; ¡ê¥¬ ¨á¯®«ì§ã¥¬®© ¯ ¬ïâ¨, ¤«ï áâ¥ª  ®â¢¥¤¥¬ 0å100 ¡ ©â ¨ ¢ëà®¢­¨¬ ­  £à­¨æã 4 ¡ ©â 
    dd i_end                ; à á¯®«®¦¨¬ ¯®§¨æ¨î áâ¥ª  ¢ ®¡« áâ¨ ¯ ¬ïâ¨, áà §ã §  â¥«®¬ ¯à®£à ¬¬ë. ¥àè¨­  áâ¥ª  ¢ ¤¨ ¯ §®­¥ ¯ ¬ïâ¨, ãª § ­­®¬ ¢ëè¥
    dd 0x0,0x0                ; ãª § â¥«ì ­  áâà®ªã á ¯ à ¬¥âà ¬¨.
                 ;    ¥á«¨ ¯®á«¥ § ¯ãáª  ­¥à ¢­® ­ã«î, ¯à¨«®¦¥­¨¥ ¡ë«®
                 ;    § ¯ãé¥­® á ¯ à ¬¥âà ¬¨ ¨§ ª®¬ ­¤­®© áâà®ª¨

                 ;    ãª § â¥«ì ­  áâà®ªã, ¢ ª®â®àãî § ¯¨á ­ ¯ãâì,
                 ;    ®âªã¤  § ¯ãé¥­® ¯à¨«®¦¥­¨¥
;------------------
        include '..\..\..\..\macros.inc'
        include 'check.inc'     ;¢ª«îç¨âì ä ©« check.inc
;        version_ch             ;­¥®¡å®¤¨¬ë© ¬ ªà®á ¤«ï ¢ª«îç¥­¨ï "áâ à®©" ¢¥àá¨¨ check_box
        version_ch1             ;­¥®¡å®¤¨¬ë© ¬ ªà®á ¤«ï ¢ª«îç¥­¨ï new ¢¥àá¨¨ check_box1
;¥¤®¯ãáâ¨¬® ¢ª«îç¥­¨¥ ¤¢ãå ¬ ªà®á¢® version_ch1 ¨ version_ch - ®­¨ ¢§ ¬®¨áª«îç îâ ¤àã£- ¤à£ã£ .
        use_check_box           ;¨á¯®«ì§ãï ¬ ªà®áë ¢­¥áâ¨ ¯à®æ¥¤ãàë ¤«ï à¨á®¢ ­¨ï ç¥ª ¡®ªá 
;¡« áâì ª®¤ 
align 4
start:                          ;®çª  ¢å®¤  ¢ ¯à®£à ¬¬ã
        mov  eax,48             ;¯®«ãç¨âì á¨áâ¥¬­ë¥ æ¢¥â 
        mov  ebx,3
        mov  ecx,sc
        mov  edx,sizeof.system_colors
        mcall

        mov  eax,40          ;ãáâ ­®¢¨âì ¬ áªã ¤«ï ®¦¨¤ ¥¬ëå á®¡ëâ¨©
        mov  ebx,0x25        ;á¨áâ¥¬  ¡ã¤¥â à¥ £¨à®¢ âì â®«ìª® ­  á®®¡é¥­¨¥ ® ¯¥à¥à¨á®¢ª¥,­ ¦ â  ª­®¯ª , ®¯à¥¤¥«ñ­­ ï à ­¥¥, á®¡ëâ¨¥ ®â ¬ëè¨ (çâ®-â® á«ãç¨«®áì - ­ ¦ â¨¥ ­  ª­®¯ªã ¬ëè¨ ¨«¨ ¯¥à¥¬¥é¥­¨¥; á¡à áë¢ ¥âáï ¯à¨ ¯à®çâ¥­¨¨)
        mcall
red_win:
        call draw_window     ;¯¥à¢®­ ç «ì­® ­¥®¡å®¤¨¬® ­ à¨á®¢ âì ®ª­®
still:                       ;®á­®¢­®© ®¡à ¡®âç¨ª 
        mov  eax,10          ;¦¨¤ âì á®¡ëâ¨ï
        mcall            ;®¦¨¤ âì á®¡ëâ¨¥ ¢ â¥ç¥­¨¥ 2 ¬¨««¨á¥ªã­¤
  
        cmp al,0x1    ;¥á«¨ ¨§¬¥­¨«®áì ¯®«®¦¥­¨¥ ®ª­ 
        jz  red_win
        cmp al,0x3    ;¥á«¨ ­ ¦ â  ª­®¯ª  â® ¯¥à¥©â¨
        jz  button
     mouse_check_boxes check_boxes,check_boxes_end  ;¯à®¢¥àª  ç¥ª ¡®ªá       
        jmp still    ;¥á«¨ ­¨ç¥£® ¨§ ¯¥à¥ç¨á«¥­­®£® â® á­®¢  ¢ æ¨ª«
button:
         or eax,-1       ;¢ eax,-1 - 5 ,¡ ©â®¢ ã ­ á ¦¥ â®«ìª® 3  ¢ë©â¨ 
         mcall ;¤ «¥¥ ¢ë¯®«­ï¥âáï ¢ëå®¤ ¨§ ¯à®£à ¬¬ë

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
draw_window:                ;à¨á®¢ ­¨¥ ®ª­  ¯à¨«®¦¥­¨ï
    mov eax,12                ;¢ à¥£¨áâà ¢­¥áâ¨ §­ ç¥­¨¥ = 12
    mov ebx,1                 ;¯à¨á¢®¨âì 1
    mcall

    xor  eax,eax              ;®¡­ã«¨âì eax
    mov  ebx,50*65536+180     ;[ª®®à¤¨­ â  ¯® ®á¨ x]*65536 + [à §¬¥à ¯® ®á¨ x]
    mov  ecx,30*65536+100     ;[ª®®à¤¨­ â  ¯® ®á¨ y]*65536 + [à §¬¥à ¯® ®á¨ y]
    mov  edx,[sc.work]        ; color of work area RRGGBB,8->color gl
    or   edx,0xb3000000
    mov  edi,hed
    mcall                 ;­ à¨á®¢ âì ®ª­® ¯à¨«®¦¥­¨ï
       
        draw_check_boxes check_boxes,check_boxes_end ;à¨á®¢ ­¨¥ ç¥ª¡®ªá®¢

    mov eax,12                ;ã­ªæ¨ï 12 - ­ ç âì/§ ª®­ç¨âì ¯¥à¥à¨á®¢ªã ®ª­ .
    mov ebx,2                 ;®¤äã­ªæ¨ï 2 - § ª®­ç¨âì ¯¥à¥à¨á®¢ªã ®ª­ .
    mcall
    ret
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;DATA ¤ ­­ë¥ 
;®à¬ â ¤ ­­ëå ç¥ª ¡®ªá :
;10 - ª®®à¤¨­ â  ç¥ª ¡®ªá  ¯® å 
;30 - ª®®à¤¨­ â  ç¥ª ¡®ªá  ¯® ã
;0 - æ¢¥â § «¨¢ª¨ ¢­ãâà¨ ç¥ª ¡®ªá 
;0xfffffff - æ¢¥â à ¬ª¨ ç¥ª ¡®ªá  ¥á«¨ ­ã¦­® â ª ¨á¯®«ì§ãîâáï á¨â¥¬­ë¥ æ¢¥â 
;0 - æ¢¥â â¥ªáâ  ­ ¤¯¨á¨  ¥á«¨ ­ã¦­® â ª ¨á¯®«ì§ãîâáï á¨â¥¬­ë¥ æ¢¥â 
;ch_text.1 - ãª § â¥«ì ­  ­ ç «® áâà®ª¨
;ch_text.e1-ch_text.1 - ¤«¨­  áâà®ª¨
;
align 4
check_boxes:
;ch1 check_box 10,15,0xffffff,0,0,ch_text.1,ch_text.e1-ch_text.1,ch_flag_en
;ch2 check_box 10,30,0xffffff,0,0,ch_text.2,ch_text.e2-ch_text.2
;ch3 check_box 10,45,0xffffff,0,0,ch_text.3,ch_text.e3-ch_text.3

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;DATA ¤ ­­ë¥  ¤«ï check_box1 - ¨á¯®«ì§ã¥â á¨áâ¥¬­ë¥ æ¢¥â 
;®à¬ â ¤ ­­ëå ç¥ª ¡®ªá :
;10 - ª®®à¤¨­ â  ç¥ª ¡®ªá  ¯® å 
;30 - ª®®à¤¨­ â  ç¥ª ¡®ªá  ¯® ã
;ch_text.1 - ãª § â¥«ì ­  ­ ç «® áâà®ª¨
;ch_text.e1-ch_text.1 - ¤«¨­  áâà®ª¨

;
ch1 check_box1 10,15,ch_text.1,ch_text.e1-ch_text.1,ch_flag_en
ch2 check_box1 10,30,ch_text.2,ch_text.e2-ch_text.2
ch3 check_box1 10,45,ch_text.3,ch_text.e3-ch_text.3
check_boxes_end:

ch_text:        ;á®¯à®¢®¦¤ îé¨© â¥ªáâ ¤«ï ç¥ª ¡®ªá®¢
.1 db 'Check_Box #1' 
.e1:
.2 db 'Check_Box #2'
.e2:
.3 db 'Check_Box #3'
.e3:

hed db 'Checkbox [21.02.2007]',0        ;§ £®«®¢®ª ¯à¨«®¦¥­¨ï
align 16
sc     system_colors
rb 0x100
i_end:                ;ª®­¥æ ª®¤ 