CXX = clang++
CXXFLAGS = -Wall -Wextra -O3 -std=c++14
CPPFLAGS = -I/usr/local/include -I${HOME}/local/include

.DEFAULT_GOAL := all
.PHONY: all clean

all: a.out
	@:

a.out: main.cpp population.hpp individual.hpp Makefile
	$(CXX) $(CPPFLAGS) $(CXXFLAGS) $< -o $@

clean:
	$(RM) a.out

graph: a.out
	Rscript graph.R
	open Rplots.pdf

release:
	$(MAKE) CPPFLAGS=-DNDEBUG all