import { Component } from '@angular/core';
import {contactStore} from '../contact.store';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  title = 'Contacto';
  message = 'Participa en la Red Precordillera';
  contact_form_email : "";
  contact_form_type : "";
  contact_form_content : "";
  contacttypes : [{}];

  createContact() {
    contactStore.create('contact',{
      contact_email : this.contact_form_email,
      contact_type : Number(this.contact_form_type),
      content : this.contact_form_content
    })
    .then((contact) => {
      // console.log(contact)
    })
    .catch((error) => {
      console.error(error)
    })
  }

  constructor () {
    contactStore.findAll('contacttypes')
    .then((contacttypes) => {
      this.contacttypes = contacttypes
      // console.log(contacttypes)
    })
    .catch((error) => {
      console.error(error)
    })
  }
}
