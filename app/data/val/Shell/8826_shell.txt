# append at the end of ~/.bashrc for global or ~/.bash_profile for ide cli

# java
export JAVA_HOME=/usr/lib/jvm/java-8-oracle
export PATH=$JAVA_HOME/bin:$PATH

# tomcat
export CATALINA_HOME=/usr/share/tomcat7
export CATALINA_BASE=/usr/share/tomcat7
export CATALINA_TMPDIR=/usr/share/tomcat7/temp
export PATH=$CATALINA_HOME/bin:$PATH

# run tomcat embedded maven plugin, install maven beforehand
function trun(){
  killport 8080
  killport 8000
  cd ./client
  npm run build
  cd ..
  mvn dependency:resolve
  killport 8080
  killport 8000
  catalina jpda start
  mvn tomcat7:run
}

function killport() {
  lsof -i TCP:$1 | grep LISTEN | awk '{print $2}' | xargs kill -9
  echo "Port" $1 "found and killed."
}
