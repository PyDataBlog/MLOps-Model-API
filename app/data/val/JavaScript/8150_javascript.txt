import { Response } from 'aurelia-fetch-client';
import toastr from 'toastr';

/**
 * Defines the logger service that provides logging/messaging capabilities.
 */

export class LoggerService {

/**
* @function {logApiError}
* @param {Fault} fault - The http fault message.
* @return {type} {Logs an error concerning an API call.}
*/

    logApiError(fault) {
        let message = fault.statusText;
        if (fault.message) message = fault.message;
        fault.json()
            .then(result => {
                if (fault.status === 500) {
                    toastr.error(message, 'API error:')
                }
                else {
                    toastr.warning(result.message)
                }
            })
            .catch(() =>
                toastr.error(message, 'API error:'))
    }

/**
* @function {show}
* @param {string} message - The message to show.
* @return {type} {Popups a message.}
*/

    show(message) {
        toastr.success(message);
    }
}